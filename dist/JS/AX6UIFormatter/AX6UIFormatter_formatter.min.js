"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var _AX6Util=require("../AX6Util"),_AX6Util2=_interopRequireDefault(_AX6Util),TODAY=new Date,ctrlKeys={18:"KEY_ALT",8:"KEY_BACKSPACE",17:"KEY_CONTROL",46:"KEY_DELETE",40:"KEY_DOWN",35:"KEY_END",187:"KEY_EQUAL",27:"KEY_ESC",36:"KEY_HOME",45:"KEY_INSERT",37:"KEY_LEFT",189:"KEY_MINUS",34:"KEY_PAGEDOWN",33:"KEY_PAGEUP",13:"KEY_RETURN",39:"KEY_RIGHT",16:"KEY_SHIFT",9:"KEY_TAB",38:"KEY_UP",91:"KEY_WINDOW"},numKeys={48:1,49:1,50:1,51:1,52:1,53:1,54:1,55:1,56:1,57:1,96:1,97:1,98:1,99:1,100:1,101:1,102:1,103:1,104:1,105:1},pattern_money={getEnterableKeyCodes:function(t){var e={188:","};return"int"==t.patternArgument||(e[190]="."),Object.assign(e,ctrlKeys,numKeys)},getPatternValue:function(t,e,n,r,u){r=r.replace(/[^0-9^\.^\-]/g,"");var a=new RegExp("([0-9])([0-9][0-9][0-9][,.])"),i=r.split(".");i[0]+=".";do{i[0]=i[0].replace(a,"$1,$2")}while(a.test(i[0]));return i.length>1?_AX6Util2.default.isNumber(t.maxRound)?i[0]+_AX6Util2.default.left(i[1],t.maxRound):i.join(""):i[0].split(".")[0]}},pattern_number={getEnterableKeyCodes:function(t){var e={190:".",110:"."};return Object.assign(e,ctrlKeys,numKeys)},getPatternValue:function(t,e,n,r,u){var a=(r=r.replace(/[^0-9^\.^\-]/g,"")).split(".");return a[0]+=".",a.length>1?_AX6Util2.default.isNumber(t.maxRound)?a[0]+_AX6Util2.default.left(a[1],t.maxRound):a.join(""):a[0].split(".")[0]}},pattern_date={getEnterableKeyCodes:function(t){var e={189:"-",191:"/"};return Object.assign(e,ctrlKeys,numKeys)},getPatternValue:function(t,e,n,r,u){if(""==(r=r.replace(/\D/g,"")))return r;var a=/^([0-9]{4})\-?([0-9]{1,2})?\-?([0-9]{1,2})?.*$/;"time"==t.patternArgument?a=/^([0-9]{4})\-?([0-9]{1,2})?\-?([0-9]{1,2})? ?([0-9]{1,2})?:?([0-9]{1,2})?:?([0-9]{1,2})?.*$/:"year"==t.patternArgument?a=/^([0-9]{0,4})?.*$/:"month"==t.patternArgument&&(a=/^([0-9]{4})\-?([0-9]{1,2})?.*$/);var i=r.match(a),s="",l=function(t,e,n,r){var u={Y:function(t){return void 0===t&&(t=TODAY.getFullYear()),""!=t&&"0000"!=t||(t=TODAY.getFullYear()),t.length<4?_AX6Util2.default.setDigit(t,4):t},M:function(t){return void 0===t&&(t=TODAY.getMonth()+1),t>12?12:0==t?"01":_AX6Util2.default.setDigit(t,2)},D:function(t){void 0===t&&(t=TODAY.getDate()+1);var e=_AX6Util2.default.daysOfMonth(r[1],r[2]-1);return t>e?e:0==t?"01":_AX6Util2.default.setDigit(t,2)},h:function(t){return t||(t=0),t>23?23:_AX6Util2.default.setDigit(t,2)},m:function(t){return t||(t=0),t>59?59:_AX6Util2.default.setDigit(t,2)},s:function(t){return t||(t=0),t>59?59:_AX6Util2.default.setDigit(t,2)}};return n?u[e](t):t};return s=r.replace(a,function(e,n){var r=[];return"year"==t.patternArgument?r.push(l(arguments[1],"Y",u)):"month"==t.patternArgument?(r.push(l(arguments[1],"Y",u)),(arguments[2]||u)&&r.push("-"+l(arguments[2],"M",u))):"time"==t.patternArgument?(r.push(l(arguments[1],"Y",u)),(arguments[2]||u)&&r.push("-"+l(arguments[2],"M",u)),(arguments[3]||u)&&r.push("-"+l(arguments[3],"D",u,arguments)),(arguments[4]||u)&&r.push(" "+l(arguments[4],"h",u)),(arguments[5]||u)&&r.push(":"+l(arguments[5],"m",u)),(arguments[6]||u)&&r.push(":"+l(arguments[6],"s",u))):(r.push(l(arguments[1],"Y",u)),(arguments[2]||u)&&r.push("-"+l(arguments[2],"M",u)),(arguments[3]||u)&&r.push("-"+l(arguments[3],"D",u,arguments))),r.join("")}),"blur"!=u||i?i||(s=s.length>4?_AX6Util2.default.left(s,4):s):s=function(){var e=[];return"year"==t.patternArgument?e.push(l(0,"Y",u)):"month"==t.patternArgument?(e.push(l(0,"Y",u)),e.push("-"+l(0,"M",u))):"time"==t.patternArgument?(e.push(l(0,"Y",u)),e.push("-"+l(0,"M",u)),e.push("-"+l(0,"D",u,arguments)),e.push(" "+l(0,"h",u)),e.push(":"+l(0,"m",u)),e.push(":"+l(0,"s",u))):(e.push(l(0,"Y",u)),e.push("-"+l(0,"M",u)),e.push("-"+l(0,"D",u,arguments))),e.join("")}(),s}},pattern_time={getEnterableKeyCodes:function(t){var e={186:":"};return Object.assign(e,ctrlKeys,numKeys)},getPatternValue:function(t,e,n,r,u){var a=/^([0-9]{1,2})?:?([0-9]{1,2})?:?([0-9]{1,2})?.*$/,i=(r=r.replace(/\D/g,"")).match(a),s=r.replace(a,function(t,e){var n=[arguments[1]];return arguments[2]&&n.push(":"+arguments[2]),arguments[3]&&n.push(":"+arguments[3]),n.join("")});return i||(s=s.length>2?_AX6Util2.default.left(s,2):s),s}},pattern_bizno={getEnterableKeyCodes:function(t){var e={189:"-"};return Object.assign(e,ctrlKeys,numKeys)},getPatternValue:function(t,e,n,r,u){var a=/^([0-9]{3})\-?([0-9]{1,2})?\-?([0-9]{1,5})?.*$/;return(r=r.replace(/\D/g,"")).replace(a,function(t,e){var n=[arguments[1]];return arguments[2]&&n.push(arguments[2]),arguments[3]&&n.push(arguments[3]),n.join("-")})}},pattern_phone={getEnterableKeyCodes:function(t){var e={189:"-",188:","};return Object.assign(e,ctrlKeys,numKeys)},getPatternValue:function(t,e,n,r,u){var a=/^([0-9]{3})\-?([0-9]{1,4})?\-?([0-9]{1,4})?\-?([0-9]{1,4})?\-?([0-9]{1,4})?/;return"02"==(r=r.replace(/\D/g,"")).substr(0,2)&&(a=/^([0-9]{2})\-?([0-9]{1,4})?\-?([0-9]{1,4})?\-?([0-9]{1,4})?\-?([0-9]{1,4})?/),r.replace(a,function(t,e){var n=[arguments[1]];return arguments[2]&&n.push(arguments[2]),arguments[3]&&n.push(arguments[3]),arguments[4]&&n.push(arguments[4]),arguments[5]&&n.push(arguments[5]),n.join("-")})}},pattern_credit={getEnterableKeyCodes:function(t){var e={189:"-"};return Object.assign(e,ctrlKeys,numKeys)},getPatternValue:function(t,e,n,r,u){var a=/^([0-9]{4})\-?([0-9]{4})?\-?([0-9]{4})?\-?([0-9]{4})?/;return(r=r.replace(/\D/g,"").substring(0,16)).replace(a,function(t,e){var n=[arguments[1]];return arguments[2]&&n.push(arguments[2]),arguments[3]&&n.push(arguments[3]),arguments[4]&&n.push(arguments[4]),n.join("-")})}},pattern_custom={getEnterableKeyCodes:function(t){return t.getEnterableKeyCodes?t.getEnterableKeyCodes.call(t,{$input:t.$input}):null},getPatternValue:function(t,e,n,r,u){if(t.getPatternValue)return t.getPatternValue.call(t,{event:n,$input:t.$input,value:r})}};exports.default={ctrlKeys:ctrlKeys,numKeys:numKeys,money:pattern_money,number:pattern_number,date:pattern_date,time:pattern_time,bizno:pattern_bizno,phone:pattern_phone,credit:pattern_credit,custom:pattern_custom};
//# sourceMappingURL=AX6UIFormatter_formatter.js.map
