"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},AX6={};!function(t,e){e(t.mustache={})}(AX6,function(t){function e(t){return"function"==typeof t}function n(t){return d(t)?"array":void 0===t?"undefined":_typeof(t)}function r(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(t,e){return null!=t&&"object"===(void 0===t?"undefined":_typeof(t))&&e in t}function i(t,e){return y.call(t,e)}function s(t){return!i(v,t)}function a(e,n){function o(t){if("string"==typeof t&&(t=t.split(b,2)),!d(t)||2!==t.length)throw new Error("Invalid tags: "+t);i=new RegExp(r(t[0])+"\\s*"),a=new RegExp("\\s*"+r(t[1])),l=new RegExp("\\s*"+r("}"+t[1]))}if(!e)return[];var i,a,l,f=[],h=[],y=[],v=!1,g=!1;o(n||t.tags);for(var E,S,U,T,_,j,A=new p(e);!A.eos();){if(E=A.pos,U=A.scanUntil(i))for(var V=0,C=U.length;V<C;++V)s(T=U.charAt(V))?y.push(h.length):g=!0,h.push(["text",T,E,E+1]),E+=1,"\n"===T&&function(){if(v&&!g)for(;y.length;)delete h[y.pop()];else y=[];v=!1,g=!1}();if(!A.scan(i))break;if(v=!0,S=A.scan(x)||"name",A.scan(w),"="===S?(U=A.scanUntil(m),A.scan(m),A.scanUntil(a)):"{"===S?(U=A.scanUntil(l),A.scan(k),A.scanUntil(a),S="&"):U=A.scanUntil(a),!A.scan(a))throw new Error("Unclosed tag at "+A.pos);if(_=[S,U,E,A.pos],h.push(_),"#"===S||"^"===S)f.push(_);else if("/"===S){if(!(j=f.pop()))throw new Error('Unopened section "'+U+'" at '+E);if(j[1]!==U)throw new Error('Unclosed section "'+j[1]+'" at '+E)}else"name"===S||"{"===S||"&"===S?g=!0:"="===S&&o(U)}if(j=f.pop())throw new Error('Unclosed section "'+j[1]+'" at '+A.pos);return c(u(h))}function u(t){for(var e,n,r=[],o=0,i=t.length;o<i;++o)(e=t[o])&&("text"===e[0]&&n&&"text"===n[0]?(n[1]+=e[1],n[3]=e[3]):(r.push(e),n=e));return r}function c(t){for(var e,n=[],r=n,o=[],i=0,s=t.length;i<s;++i)switch((e=t[i])[0]){case"#":case"^":r.push(e),o.push(e),r=e[4]=[];break;case"/":o.pop()[5]=e[2],r=o.length>0?o[o.length-1][4]:n;break;default:r.push(e)}return n}function p(t){this.string=t,this.tail=t,this.pos=0}function l(t,e){this.view=t,this.cache={".":this.view,"@each":function(){var t=[];for(var e in this)t.push({"@key":e,"@value":this[e]});return t}},this.parent=e}function f(){this.cache={}}var h=Object.prototype.toString,d=Array.isArray||function(t){return"[object Array]"===h.call(t)},y=RegExp.prototype.test,v=/\S/,g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},w=/\s*/,b=/\s+/,m=/\s*=/,k=/\s*\}/,x=/#|\^|\/|>|\{|&|=|!/;p.prototype.eos=function(){return""===this.tail},p.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var n=e[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},p.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=e.length,e},l.prototype.push=function(t){return new l(t,this)},l.prototype.lookup=function(t){var n,r=this.cache;if(r.hasOwnProperty(t))n=r[t];else{for(var i,s,a=this,u=!1;a;){if(t.indexOf(".")>0)for(n=a.view,i=t.split("."),s=0;null!=n&&s<i.length;)s===i.length-1&&(u=o(n,i[s])),n=n[i[s++]];else n=a.view[t],u=o(a.view,t);if(u)break;a=a.parent}r[t]=n}return e(n)&&(n=n.call(this.view)),n},f.prototype.clearCache=function(){this.cache={}},f.prototype.parse=function(t,e){var n=this.cache,r=n[t];return null==r&&(r=n[t]=a(t,e)),r},f.prototype.render=function(t,e,n){var r=this.parse(t),o=e instanceof l?e:new l(e);return this.renderTokens(r,o,n,t)},f.prototype.renderTokens=function(t,e,n,r){for(var o,i,s,a="",u=0,c=t.length;u<c;++u)s=void 0,"#"===(i=(o=t[u])[0])?s=this.renderSection(o,e,n,r):"^"===i?s=this.renderInverted(o,e,n,r):">"===i?s=this.renderPartial(o,e,n,r):"&"===i?s=this.unescapedValue(o,e):"name"===i?s=this.escapedValue(o,e):"text"===i&&(s=this.rawValue(o)),void 0!==s&&(a+=s);return a},f.prototype.renderSection=function(t,n,r,o){var i=this,s="",a=n.lookup(t[1]);if(a){if(d(a))for(var u=0,c=a.length;u<c;++u)a[u]&&("object"===_typeof(a[u])&&(a[u]["@i"]=u,a[u]["@first"]=0===u),s+=this.renderTokens(t[4],n.push(a[u]),r,o));else if("object"===(void 0===a?"undefined":_typeof(a))||"string"==typeof a||"number"==typeof a)s+=this.renderTokens(t[4],n.push(a),r,o);else if(e(a)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");null!=(a=a.call(n.view,o.slice(t[3],t[5]),function(t){return i.render(t,n,r)}))&&(s+=a)}else s+=this.renderTokens(t[4],n,r,o);return s}},f.prototype.renderInverted=function(t,e,n,r){var o=e.lookup(t[1]);if(!o||d(o)&&0===o.length)return this.renderTokens(t[4],e,n,r)},f.prototype.renderPartial=function(t,n,r){if(r){var o=e(r)?r(t[1]):r[t[1]];return null!=o?this.renderTokens(this.parse(o),n,r,o):void 0}},f.prototype.unescapedValue=function(t,e){var n=e.lookup(t[1]);if(null!=n)return n},f.prototype.escapedValue=function(e,n){var r=n.lookup(e[1]);if(null!=r)return t.escape(r)},f.prototype.rawValue=function(t){return t[1]},t.name="mustache.js",t.version="2.1.3",t.tags=["{{","}}"];var E=new f;t.clearCache=function(){return E.clearCache()},t.parse=function(t,e){return E.parse(t,e)},t.render=function(t,e,r){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+n(t)+'" was given as the first argument for mustache#render(template, view, partials)');return E.render(t,e,r)},t.to_html=function(n,r,o,i){var s=t.render(n,r,o);if(!e(i))return s;i(s)},t.escape=function(t){return String(t).replace(/[&<>"'\/]/g,function(t){return g[t]})},t.Scanner=p,t.Context=l,t.Writer=f}),exports.default=AX6.mustache;
//# sourceMappingURL=AX6Mustache.js.map
