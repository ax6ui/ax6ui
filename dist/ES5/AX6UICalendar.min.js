"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),_jqmin=require("jqmin"),_jqmin2=_interopRequireDefault(_jqmin),_AX6UICore2=require("./AX6UICore"),_AX6UICore3=_interopRequireDefault(_AX6UICore2),_AX6Info=require("./AX6Info"),_AX6Info2=_interopRequireDefault(_AX6Info),_AX6Util=require("./AX6Util"),_AX6Util2=_interopRequireDefault(_AX6Util),_AX6Mustache=require("./AX6Mustache"),_AX6Mustache2=_interopRequireDefault(_AX6Mustache),frameTmpl=function(t){return'\n<div class="ax6-ui-calendar {{theme}}" data-calendar-els="root" onselectstart="return false;">\n    {{#control}}\n    <div class="calendar-control" data-calendar-els="control" style="{{controlCSS}}">\n        <a class="date-move-left" data-calendar-move="left" style="{{controlButtonCSS}}">{{{left}}}</a>\n        <div class="date-display" data-calendar-els="control-display" style="{{controlCSS}}"></div>\n        <a class="date-move-right" data-calendar-move="right" style="{{controlButtonCSS}}">{{{right}}}</a>\n    </div>\n    {{/control}}\n    <div class="calendar-body" data-calendar-els="body"></div>\n</div>\n'},dayTmpl=function(t){return'\n<table data-calendar-table="day" cellpadding="0" cellspacing="0" style="width:100%;">\n    <thead>\n        <tr>\n        {{#weekNames}}\n            <td class="calendar-col-{{col}}" style="height: {{colHeadHeight}}">\n            {{label}}\n            </td>\n        {{/weekNames}}\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n            {{#list}}    \n            {{#isStartOfWeek}}\n            {{^@first}}\n        </tr>\n        <tr>\n            {{/@first}}\n            {{/isStartOfWeek}}\n            <td class="calendar-col-{{col}}" style="{{itemStyles}}">\n                <a class="calendar-item-day {{addClass}}" data-calendar-item-date="{{thisDate}}">\n                    <span class="addon addon-header"></span>\n                    {{thisDataLabel}}\n                    <span class="addon addon-footer"></span>\n                </a>\n            </td>\n            {{/list}}\n        </tr>\n    </tbody>\n</table>\n'},monthTmpl=function(t){return'\n<table data-calendar-table="month" cellpadding="0" cellspacing="0" style="width:100%;">\n    <thead>\n        <tr>\n            <td class="calendar-col-0" colspan="3" style="height: {{colHeadHeight}}">\n            {{colHeadLabel}}\n            </td>\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n            {{#list}}    \n            {{#isStartOfRow}}\n            {{^@first}}\n        </tr>\n        <tr>\n            {{/@first}}\n            {{/isStartOfRow}}\n            <td class="calendar-col-{{col}}" style="{{itemStyles}}">\n                <a class="calendar-item-month {{addClass}}" data-calendar-item-month="{{thisMonth}}">\n                    <span class="addon"></span>\n                    {{thisMonthLabel}}\n                    <span class="lunar"></span>\n                </a>\n            </td>\n            {{/list}}\n        </tr>\n    </tbody>\n</table>\n'},yearTmpl=function(t){return'\n<table data-calendar-table="year" cellpadding="0" cellspacing="0" style="width:100%;">\n    <thead>\n        <tr>\n            <td class="calendar-col-0" colspan="4" style="height: {{colHeadHeight}}">\n            {{colHeadLabel}}\n            </td>\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n            {{#list}}    \n            {{#isStartOfRow}}\n            {{^@first}}\n        </tr>\n        <tr>\n            {{/@first}}\n            {{/isStartOfRow}}\n            <td class="calendar-col-{{col}}" style="{{itemStyles}}">\n                <a class="calendar-item-year {{addClass}}" data-calendar-item-year="{{thisYear}}">\n                    <span class="addon"></span>\n                    {{thisYearLabel}}\n                    <span class="lunar"></span>\n                </a>\n            </td>\n            {{/list}}\n        </tr>\n    </tbody>\n</table>\n'},onStateChanged=function(t,e){t&&t.onStateChanged?t.onStateChanged.call(e,e):this.onStateChanged&&this.onStateChanged.call(e,e),e=null},getFrame=function(){var t=_jqmin2.default.extend(!0,{},this.config,{controlCSS:{},controlButtonCSS:{}});t.controlButtonCSS.height=t.controlCSS.height=_AX6Util2.default.cssNumber(this.config.dimensions.controlHeight),t.controlButtonCSS["line-height"]=t.controlCSS["line-height"]=_AX6Util2.default.cssNumber(this.config.dimensions.controlHeight),t.controlButtonCSS.width=_AX6Util2.default.cssNumber(this.config.dimensions.controlHeight),t.controlCSS=_AX6Util2.default.css(t.controlCSS),t.controlButtonCSS=_AX6Util2.default.css(t.controlButtonCSS);try{return _AX6Mustache2.default.render(frameTmpl.call(this),t)}finally{t=null}},setDisplay=function(){var t=this,e=_AX6Util2.default.date(this.config.displayDate),i="",a="",n=void 0,l=void 0;return this.config.control&&("day"==this.config.mode||"d"==this.config.mode?(i=this.config.control.yearTmpl?this.config.control.yearTmpl.replace("%s",e.getFullYear()):e.getFullYear(),a=this.config.control.monthTmpl?this.config.control.monthTmpl.replace("%s",this.config.lang.months[e.getMonth()]):this.config.lang.months[e.getMonth()],this.$["control-display"].html(t.config.control.yearFirst?'<span data-calendar-display="year">'+i+'</span><span data-calendar-display="month">'+a+"</span>":'<span data-calendar-display="month">'+a+'</span><span data-calendar-display="year">'+i+"</span>")):"month"==this.config.mode||"m"==this.config.mode?(i=this.config.control.yearTmpl?this.config.control.yearTmpl.replace("%s",e.getFullYear()):e.getFullYear(),this.$["control-display"].html('<span data-calendar-display="year">'+i+"</span>")):"year"!=this.config.mode&&"y"!=this.config.mode||(n=this.config.control.yearTmpl?this.config.control.yearTmpl.replace("%s",e.getFullYear()-10):e.getFullYear()-10,l=this.config.control.yearTmpl?this.config.control.yearTmpl.replace("%s",Number(e.getFullYear())+9):Number(e.getFullYear())+9,this.$["control-display"].html(n+" ~ "+l)),this.$["control-display"].find("[data-calendar-display]").on(this.config.clickEventName,function(t){var e=_AX6Util2.default.findParentNode(t.target,function(t){if(t.getAttribute("data-calendar-display"))return!0}),i=void 0;e&&(i=e.getAttribute("data-calendar-display"),this.changeMode(i)),e=null,i=null}.bind(this))),e=null,i=null,a=null,n=null,l=null,this},printDay=function(t){var e=this,i=_AX6Util2.default.date(t),a=new Date(i.getFullYear(),i.getMonth(),1,12),n=this.config.displayDate,l=function(){var t=a.getDay();0==t&&(t=7),t-=e.config.startOfWeek;try{return _AX6Util2.default.date(a,{add:{d:-t}})}finally{t=null}}(),o=void 0,s=i.getMonth(),d={},r=void 0,c=void 0,h=void 0,f=this.$.body.width(),u=Math.floor(f*(6/7)),g=void 0;for(this.config.dimensions.height&&(u=_AX6Util2.default.number(this.config.dimensions.height)-_AX6Util2.default.number(this.config.dimensions.colHeadHeight)),d.height=Math.floor(u/6)-2*_AX6Util2.default.number(this.config.dimensions.itemPadding)+"px",d["line-height"]=d.height,d.padding=_AX6Util2.default.cssNumber(this.config.dimensions.itemPadding),g={weekNames:[].concat(_AX6Info2.default.weekNames),list:[]},this.config.startOfWeek&&(g.weekNames=g.weekNames.concat(g.weekNames.slice(0,this.config.startOfWeek)).splice(this.config.startOfWeek)),g.weekNames.forEach(function(t){t.colHeadHeight=_AX6Util2.default.cssNumber(e.config.dimensions.colHeadHeight)}),o=l,r=0;r<6;){c=0;for(;c<7;)!function(){h=(c-e.config.startOfWeek+7)%7;var t=""+_AX6Util2.default.date(o,{return:e.config.dateFormat}),i={row:r,col:c,isStartOfWeek:0==c,thisDate:""+t,thisDataLabel:e.config.lang.dayTmpl.replace("%s",o.getDate()),itemStyles:_AX6Util2.default.css(d),addClass:function(){var i="";return e.config.selectable?e.selectableMap[t]?i+=o.getMonth()==s?" live":"":i+=" disable":o.getMonth()==s&&(t==_AX6Util2.default.date(n,{return:"yyyyMMdd"})?i+=" focus":i+=" live",0==o.getDay()&&(i+=" sunday"),6==o.getDay()&&(i+=" saturday")),i}()+" "+(e.markerMap[t]?e.markerMap[t].theme||e.config.defaultMarkerTheme:"")+" "+(e.selectionMap[t]?"selected-day":"")};g.list.push(i),c++,o=_AX6Util2.default.date(o,{add:{d:1}}),t=null,i=null}();r++}this.$.body.html(_AX6Mustache2.default.render(dayTmpl.call(this),g)).find("[data-calendar-item-date]").on(this.config.clickEventName,function(t){t=t||window.event,onclick.call(e,t,"date"),_AX6Util2.default.stopEvent(t)}),this.printedDay={start:l,end:o},onStateChanged.call(this,null,{self:this,action:"printDay",printedDay:this.printedDay}),setDisplay.call(this),i=null,a=null,n=null,l=null,o=null,s=null,d=null,r=null,c=null,f=null,u=null,g=null},printMonth=function(t){var e=this,i=_AX6Util2.default.date(t),a=i.getMonth(),n={},l=void 0,o=void 0,s=void 0,d=void 0,r=this.$.body.width(),c=Math.floor(r*(6/7)),h=void 0;for(this.config.dimensions.height&&(c=_AX6Util2.default.number(this.config.dimensions.height)-_AX6Util2.default.number(this.config.dimensions.colHeadHeight)),n.height=Math.floor(c/4)-2*_AX6Util2.default.number(this.config.dimensions.itemPadding)+"px",n["line-height"]=n.height,n.padding=_AX6Util2.default.cssNumber(this.config.dimensions.itemPadding),h={colHeadHeight:_AX6Util2.default.cssNumber(this.config.dimensions.colHeadHeight),colHeadLabel:this.config.lang.monthHeading,list:[]},d=0,s=0,l=0;l<4;){for(o=0;o<3;){var f={row:l,col:o,isStartOfRow:0==o,thisMonth:i.getFullYear()+"-"+_AX6Util2.default.setDigit(s+1,2)+"-"+_AX6Util2.default.setDigit(i.getDate(),2),thisMonthLabel:this.config.lang.months[s],itemStyles:_AX6Util2.default.css(n),addClass:(e.config.selectable?e.selectableMap[s]?"live":"disable":"live")+" "+(s==a?"focus":"")+" "+(e.markerMap[s]?e.markerMap[s].theme||e.config.defaultMarkerTheme:"")};h.list.push(f),s++,o++,f=null}l++}this.$.body.html(_AX6Mustache2.default.render(monthTmpl.call(this),h)).find("[data-calendar-item-month]").on(this.config.clickEventName,function(t){t=t||window.event,onclick.call(e,t,"month"),_AX6Util2.default.stopEvent(t)}),this.printedDay={start:i.getFullYear()+"-"+_AX6Util2.default.setDigit(d+1,2),end:i.getFullYear()+"-"+_AX6Util2.default.setDigit(s,2)},onStateChanged.call(this,null,{self:this,action:"printMonth",printedDay:this.printedDay}),setDisplay.call(this),i=null,a=null,n=null,l=null,o=null,s=null,d=null,r=null,c=null,h=null},printYear=function(t){var e=this,i=_AX6Util2.default.date(t),a=i.getFullYear(),n={},l=void 0,o=void 0,s=void 0,d=void 0,r=this.$.body.width(),c=Math.floor(r*(6/7)),h=void 0;for(this.config.dimensions.height&&(c=_AX6Util2.default.number(this.config.dimensions.height)-_AX6Util2.default.number(this.config.dimensions.colHeadHeight)),n.height=Math.floor(c/5)-2*_AX6Util2.default.number(this.config.dimensions.itemPadding)+"px",n["line-height"]=n.height,n.padding=_AX6Util2.default.cssNumber(this.config.dimensions.itemPadding),h={colHeadHeight:_AX6Util2.default.cssNumber(this.config.dimensions.colHeadHeight),colHeadLabel:this.config.lang.yearHeading,list:[]},d=a-10,s=a-10,l=0;l<5;){for(o=0;o<4;){var f={row:l,col:o,isStartOfRow:0==o,thisYear:s+"-"+_AX6Util2.default.setDigit(i.getMonth()+1,2)+"-"+_AX6Util2.default.setDigit(i.getDate(),2),thisYearLabel:this.config.lang.yearTmpl.replace("%s",s),itemStyles:_AX6Util2.default.css(n),addClass:(e.config.selectable?e.selectableMap[s]?"live":"disable":"live")+" "+(s==a?"focus":"")+" "+(e.selectableMap[s]?e.selectableMap[s].theme||e.config.defaultMarkerTheme:"")};h.list.push(f),s++,o++,f=null}l++}this.$.body.html(_AX6Mustache2.default.render(yearTmpl.call(this),h)).find("[data-calendar-item-year]").on(this.config.clickEventName,function(t){t=t||window.event,onclick.call(e,t,"year"),_AX6Util2.default.stopEvent(t)}),this.printedDay={start:d,end:s-1},onStateChanged.call(this,null,{self:this,action:"printYear",printedDay:this.printedDay}),setDisplay.call(this),i=null,a=null,n=null,l=null,o=null,s=null,d=null,r=null,c=null,h=null},onclick=function(t,e,i,a){var n=this,l=void 0,o=void 0;e=e||"date",(i=_AX6Util2.default.findParentNode(t.target,function(t){if(t.getAttribute("data-calendar-item-"+e))return!0}))&&(a=i.getAttribute("data-calendar-item-"+e),l=_AX6Util2.default.date(a,{return:this.config.dateFormat}),o=!0,this.selectableCount=this.config.multipleSelect?_AX6Util2.default.isNumber(this.config.multipleSelect)?this.config.multipleSelect:2:1,this.config.selectable&&(this.selectableMap[l]||(o=!1)),"date"==e?o&&(this.selection.length>=this.selectableCount&&this.selection.splice(0,this.selection.length-(this.selectableCount-1)).forEach(function(t){n.$.body.find('[data-calendar-item-date="'+_AX6Util2.default.date(t,{return:n.config.dateFormat})+'"]').removeClass("selected-day")}),(0,_jqmin2.default)(i).addClass("selected-day"),this.selection.push(a),this.onClick&&this.onClick.call({self:this,date:a,target:this.target,dateElement:i})):"month"==e?"month"==this.config.selectMode?o&&(this.selection.length>=this.selectableCount&&this.selection.splice(0,this.selection.length-(this.selectableCount-1)).forEach(function(t){n.$.body.find('[data-calendar-item-month="'+_AX6Util2.default.date(t,{return:"yyyy-MM-dd"})+'"]').removeClass("selected-month")}),(0,_jqmin2.default)(i).addClass("selected-month"),this.selection.push(a),this.onClick&&this.onClick.call({self:this,date:a,target:this.target,dateElement:i})):this.changeMode("day",a):"year"==e&&("year"==this.config.selectMode?o&&(this.selection.length>=this.selectableCount&&this.selection.splice(0,this.selection.length-(this.selectableCount-1)).forEach(function(t){n.$.body.find('[data-calendar-item-year="'+_AX6Util2.default.date(t,{return:"yyyy-MM-dd"})+'"]').removeClass("selected-year")}),(0,_jqmin2.default)(i).addClass("selected-year"),this.selection.push(a),this.onClick&&this.onClick.call({self:this,date:a,target:this.target,dateElement:i})):this.changeMode("month",a))),e=null,i=null,a=null,l=null,o=null},move=function(t,e,i){(e=_AX6Util2.default.findParentNode(t.target,function(t){if(t.getAttribute("data-calendar-move"))return!0}))&&(i=e.getAttribute("data-calendar-move"),"day"==this.config.mode||"d"==this.config.mode?(this.config.displayDate="left"==i?_AX6Util2.default.date(this.config.displayDate,{add:{m:-1}}):_AX6Util2.default.date(this.config.displayDate,{add:{m:1}}),printDay.call(this,this.config.displayDate)):"month"==this.config.mode||"m"==this.config.mode?(this.config.displayDate="left"==i?_AX6Util2.default.date(this.config.displayDate,{add:{y:-1}}):_AX6Util2.default.date(this.config.displayDate,{add:{y:1}}),printMonth.call(this,this.config.displayDate)):"year"!=this.config.mode&&"y"!=this.config.mode||(this.config.displayDate="left"==i?_AX6Util2.default.date(this.config.displayDate,{add:{y:-10}}):_AX6Util2.default.date(this.config.displayDate,{add:{y:10}}),printYear.call(this,this.config.displayDate))),e=null,i=null},applyMarkerMap=function(){setTimeout(function(){if("day"===this.config.mode||"d"===this.config.mode)for(var t in this.markerMap)this.$.body.find('[data-calendar-item-date="'+t+'"]').addClass(this.markerMap[t].theme||this.config.defaultMarkerTheme)}.bind(this))},applySelectionMap=function(){setTimeout(function(){for(var t in this.selectionMap)this.$.body.find('[data-calendar-item-date="'+t+'"]').addClass("selected-day")}.bind(this))},applyPeriodMap=function(){setTimeout(function(){if("day"===this.config.mode||"d"===this.config.mode)for(var t in this.periodMap)this.periodMap[t].label&&this.$.body.find('[data-calendar-item-date="'+t+'"]').find(".addon-footer").html(this.periodMap[t].label),this.$.body.find('[data-calendar-item-date="'+t+'"]').addClass(this.periodMap[t].theme)}.bind(this))},clearPeriodMap=function(){if("day"===this.config.mode||"d"===this.config.mode)for(var t in this.periodMap)this.$.body.find('[data-calendar-item-date="'+t+'"]').find(".addon-footer").empty(),this.$.body.find('[data-calendar-item-date="'+t+'"]').removeClass(this.periodMap[t].theme)},AX6UICalendar=function(t){function e(t){_classCallCheck(this,e);var i=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.config={clickEventName:"click",theme:"default",startOfWeek:0,mode:"day",dateFormat:"yyyy-MM-dd",displayDate:new Date,animateTime:100,dimensions:{controlHeight:"40",controlButtonWidth:"40",colHeadHeight:"30",itemPadding:2},lang:{yearHeading:"Choose the year",monthHeading:"Choose the month",yearTmpl:"%s",months:_AX6Info2.default.months||["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],dayTmpl:"%s"},multipleSelect:!1,selectMode:"day",defaultMarkerTheme:"holiday",defaultPeriodTheme:"period"},_jqmin2.default.extend(!0,i.config,t),i.$target=null,i.selection=[],i.selectionMap={},i.selectableMap={},i.markerMap={},i.printedDay={start:"",end:""},i.selectableCount=1,i.init(),i}return _inherits(e,_AX6UICore3.default),_createClass(e,[{key:"init",value:function(){var t=this;this.onStateChanged=this.config.onStateChanged,delete this.config.onStateChanged,this.onClick=this.config.onClick,delete this.config.onClick,this.config.target||console.log(_AX6Info2.default.getError("ax6calendar","401","setConfig")),this.$target=(0,_jqmin2.default)(this.config.target),this.config.displayDate=_AX6Util2.default.date(this.config.displayDate),this.$target.html(getFrame.call(this)),this.$={root:this.$target.find('[data-calendar-els="root"]'),control:this.$target.find('[data-calendar-els="control"]'),"control-display":this.$target.find('[data-calendar-els="control-display"]'),body:this.$target.find('[data-calendar-els="body"]')},this.config.control&&this.$.root.on(this.config.clickEventName,"[data-calendar-move]",function(e){move.call(t,e||window.event)}),this.config.selection&&this.setSelection(this.config.selection,!1),this.config.selectable&&this.setSelectable(this.config.selectable,!1),this.config.marker&&this.setMarker(this.config.marker,!1),setTimeout(function(){"day"===this.config.mode||"d"===this.config.mode?printDay.call(this,this.config.displayDate):"month"===this.config.mode||"m"===this.config.mode?printMonth.call(this,this.config.displayDate):"year"!==this.config.mode&&"y"!==this.config.mode||printYear.call(this,this.config.displayDate)}.bind(this)),this.initOnce()}},{key:"initOnce",value:function(){if(this.initialized)return this;this.initialized=!0}},{key:"changeMode",value:function(t,e){var i=this;return void 0!==e&&(this.config.displayDate=e),t&&(this.config.mode=t),this.$.body.removeClass("fadein").addClass("fadeout"),setTimeout(function(){"day"==i.config.mode||"d"==i.config.mode?printDay.call(i,i.config.displayDate):"month"==i.config.mode||"m"==i.config.mode?printMonth.call(i,i.config.displayDate):"year"!=i.config.mode&&"y"!=i.config.mode||printYear.call(i,i.config.displayDate),i.$.body.removeClass("fadeout").addClass("fadein")},this.config.animateTime),this}},{key:"setSelection",value:function(t,e){this.selectionMap={};var i={},a={arr:function(t,e,i){return e={},_AX6Util2.default.isArray(t)?(this.selection=t=t.splice(0,i),t.forEach(function(t){_AX6Util2.default.isDate(t)&&(t=_AX6Util2.default.date(t,{return:this.config.dateFormat})),e[t]=!0}),e):e}};if(this.selectableCount=this.config.multipleSelect?_AX6Util2.default.isNumber(this.config.multipleSelect)?this.config.multipleSelect:2:1,this.config.selection=t){if(!_AX6Util2.default.isArray(t))return this;i=a.arr(t,{},this.selectableCount)}return this.selectionMap=_jqmin2.default.extend({},i),!1!==e&&applySelectionMap.call(this),i=null,this}},{key:"getSelection",value:function(){return this.selection}},{key:"setSelectable",value:function(t,e){this.selectableMap={};var i=void 0,a={},n={arr:function(t,e){return e={},_AX6Util2.default.isArray(t)?(t.forEach(function(t){_AX6Util2.default.isDate(t)&&(t=_AX6Util2.default.date(t,{return:this.config.dateFormat})),e[t]=!0}),e):e},obj:function(t,e){if(e={},_AX6Util2.default.isArray(t))return e;if(t.range)return e;for(var i in t)e[i]=t[i];return e},range:function(t,e){return e={},_AX6Util2.default.isArray(t)?e:t.range?(t.range.forEach(function(t){if(_AX6Util2.default.isDateFormat(t.from)&&_AX6Util2.default.isDateFormat(t.to))for(var i=_AX6Util2.default.date(t.from);i<=_AX6Util2.default.date(t.to);i.setDate(i.getDate()+1))e[_AX6Util2.default.date(i,{return:this.config.dateFormat})]=!0;else for(var a=t.from;a<=t.to;a++)e[a]=!0}),e):e}};if(this.config.selectable=selectable)if(_AX6Util2.default.isArray(selectable))a=n.arr(selectable);else{for(i in n)if(selectable[i]){a=n[i](selectable);break}0===Object.keys(a).length&&(a=n.obj(selectable))}return this.selectableMap=a,!1!==e&&this.changeMode(),this}},{key:"setMarker",value:function(t,e){this.markerMap={};var i=void 0,a={},n={obj:function(t,e){if(e={},_AX6Util2.default.isArray(t))return e;if(t.range)return e;for(var i in t)e[i]=t[i];return t=null,e},range:function(t,e){return e={},_AX6Util2.default.isArray(t)?e:t.range?(t.range.forEach(function(t){if(_AX6Util2.default.isDateFormat(t.from)&&_AX6Util2.default.isDateFormat(t.to))for(var i=_AX6Util2.default.date(t.from);i<=_AX6Util2.default.date(t.to);i.setDate(i.getDate()+1))e[_AX6Util2.default.date(i,{return:this.config.dateFormat})]={theme:t.theme,label:t.label};else for(var a=t.from;a<=t.to;a++)e[a]={theme:t.theme,label:t.label}}),t=null,e):e}};if(this.config.marker=t){for(i in n)if(t[i]){a=n[i](t);break}0===Object.keys(a).length&&(a=n.obj(t))}return this.markerMap=a,!1!==e&&applyMarkerMap.call(this),this}},{key:"setPeriod",value:function(t,e){this.periodMap={};var i={},a={range:function(t,e){var i=this;return e={},_AX6Util2.default.isArray(t)?e:t.range?(t.range.forEach(function(t){if(_AX6Util2.default.isDateFormat(t.from)&&_AX6Util2.default.isDateFormat(t.to))for(var a=new Date(_AX6Util2.default.date(t.from));a<=_AX6Util2.default.date(t.to);a.setDate(a.getDate()+1))a.getTime()==_AX6Util2.default.date(t.from).getTime()?e[_AX6Util2.default.date(a,{return:i.config.dateFormat})]={theme:t.theme||i.config.defaultPeriodTheme,label:t.fromLabel}:a.getTime()==_AX6Util2.default.date(t.to).getTime()?e[_AX6Util2.default.date(a,{return:i.config.dateFormat})]={theme:t.theme||i.config.defaultPeriodTheme,label:t.toLabel}:e[_AX6Util2.default.date(a,{return:i.config.dateFormat})]={theme:t.theme||i.config.defaultPeriodTheme}}),t=null,e):e}};return!1!==e&&clearPeriodMap.call(this),(this.config.period=t)&&(i=a.range(t)),this.periodMap=i,!1!==e&&applyPeriodMap.call(this),this}}]),e}();exports.default=AX6UICalendar;
//# sourceMappingURL=AX6UICalendar.js.map
