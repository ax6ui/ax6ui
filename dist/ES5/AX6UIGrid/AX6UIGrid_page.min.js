"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var _AX6Util=require("../AX6Util"),_AX6Util2=_interopRequireDefault(_AX6Util),_AX6Mustache=require("../AX6Mustache"),_AX6Mustache2=_interopRequireDefault(_AX6Mustache),onclickPageMove=function(t){var a=function(t){this.page.currentPage!=t&&(this.page.selectPage=t,this.config.page.onChange&&this.config.page.onChange.call({self:this,page:this.page,data:this.data}))},e={first:function(){a.call(this,0)},prev:function(){var t=this.page.currentPage-1;t<0&&(t=0),a.call(this,t)},next:function(){var t=this.page.currentPage+1;t>this.page.totalPages-1&&(t=this.page.totalPages-1),a.call(this,t)},last:function(){a.call(this,this.page.totalPages-1)}};t in e?e[t].call(this):a.call(this,t-1)},navigationUpdate=function(){var t=this;if(this.page){var a={hasPage:!1,currentPage:this.page.currentPage,pageSize:this.page.pageSize,totalElements:this.page.totalElements,totalPages:this.page.totalPages,firstIcon:this.config.page.firstIcon,prevIcon:this.config.page.prevIcon||"«",nextIcon:this.config.page.nextIcon||"»",lastIcon:this.config.page.lastIcon},e=this.config.page.navigationItemCount;a["@paging"]=function(){var t=[],i=void 0,n=void 0;(i=a.currentPage-Math.floor(e/2))<0&&(i=0),(n=a.currentPage+e)>a.totalPages&&(n=a.totalPages),n-i>e&&(n=i+e),n-i<e&&(i=n-e),i<0&&(i=0);for(var o=i,s=n;o<s;o++)t.push({pageNo:o+1,selected:a.currentPage==o});return t}(),a["@paging"].length>0&&(a.hasPage=!0),this.$.page.navigation.html(_AX6Mustache2.default.render(this.__tmpl.page_navigation.call(this),a)),this.$.page.navigation.find("[data-ax6grid-page-move]").on("click",function(){onclickPageMove.call(t,this.getAttribute("data-ax6grid-page-move"))})}else this.$.page.navigation.empty()},statusUpdate=function(){if(this.config.page.statusDisplay){var t=void 0,a={};(t=this.xvar.virtualPaintStartRowIndex+this.xvar.virtualPaintRowCount)>this.xvar.dataRowCount&&(t=this.xvar.dataRowCount),a.fromRowIndex=_AX6Util2.default.number(this.xvar.virtualPaintStartRowIndex+1,{money:!0}),a.toRowIndex=_AX6Util2.default.number(t,{money:!0}),a.totalElements=!1,a.dataRealRowCount=this.xvar.dataRowCount!==this.xvar.dataRealRowCount&&_AX6Util2.default.number(this.xvar.dataRealRowCount,{money:!0}),a.dataRowCount=_AX6Util2.default.number(this.xvar.dataRowCount,{money:!0}),a.progress=this.appendProgress?this.config.appendProgressIcon:"",this.page&&(a.fromRowIndex_page=_AX6Util2.default.number(this.xvar.virtualPaintStartRowIndex+this.page.currentPage*this.page.pageSize+1,{money:!0}),a.toRowIndex_page=_AX6Util2.default.number(this.xvar.virtualPaintStartRowIndex+this.xvar.virtualPaintRowCount+this.page.currentPage*this.page.pageSize,{money:!0}),a.totalElements=_AX6Util2.default.number(this.page.totalElements,{money:!0}),a.toRowIndex_page>this.page.totalElements&&(a.toRowIndex_page=this.page.totalElements)),this.$.page.status.html(_AX6Mustache2.default.render(this.__tmpl.page_status.call(this),a))}};exports.default={navigationUpdate:navigationUpdate,statusUpdate:statusUpdate};
//# sourceMappingURL=AX6UIGrid_page.js.map
