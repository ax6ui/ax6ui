{"version":3,"sources":["AX6UIModal.js"],"names":["_jqmin","require","_AX6UICore2","_AX6Util","_AX6Info","_AX6Mustache","tmpl","modal","clientY","mousedown","_AX6Info2","default","supportTouch","mousemove","mouseup","getMousePosition","e","mouseObj","opts","onResize","that","clientX","eventProcessor","resize","onStateChanged","call","this","getContent","header","fullScreen","iframeLoadingMsg","disableResize","zIndex","data","modalId","iframe","theme","param","styles","open","$activeModal","find","_AX6Mustache2","render","$","callback","modalConfig","_jqmin2","id","root","body","self","width","height","document","append","align","state","show","css","attr","method","target","action","url","on","closeToEsc","hide","onkeyup","window","event","bind","off","isButton","_this","ENM","_target","disableDrag","getAttribute","isFullScreen","mousePosition","moveModal","srcElement","_AX6Util2","stopEvent","originalEvent","k","key","dialogId","currentTarget","btnOnClick","findParentNode","alignProcessor","value","top","btnTarget","btns","onClick","left","keyCode","eventKeys","ESC","close","scrollTop","bottom-right","__dy","center-middle","modalOffset","__dx","_this2","modalZIndex","position","modalBox","maxY","outerHeight","windowBox","absolute","getResizerPosition","minX","maxX","$resizer","$resizerBg","scrollLeft","minY","setModalPosition","box","addClass","removeClass","instanceId","throttle","offset","resizeModal","resizerType","remove","resizerProcessor","minHeight","removeAttr","_this3","shiftKey","bottom","minWidth","altKey","right","top-left","top-right","bottom-left","cursorType","cursor","extend","headerHeight","margin","clickEventName","animateTime","AX6UIModal","config","_this4","initialized","minimizePosition","documentElement","queue","init","initOnce","$iframe","push","_option","setTimeout","get","shift","idoc","iframeObject","contentDocument","contentWindow","children","each","minimized","innerHTML","CollectGarbage","isFunction","doNotCallback","length","cfg","display","originalHeight","undefined","_config","_fullScreen"],"mappings":"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","file":"AX6UIModal.js","sourcesContent":["import jQuery from \"jqmin\";\nimport AX6UICore from \"./AX6UICore.js\";\nimport U from \"./AX6Util\";\nimport info from \"./AX6Info\";\nimport mustache from \"./AX6Mustache\";\nimport \"./AX6UIToast/index.scss\";\n\nlet tmpl = {\n    modal() {\n        return ` \n<div data-ax6ui-modal=\"{{modalId}}\" data-modal-els=\"root\" class=\"{{theme}} {{fullscreen}}\" style=\"{{styles}}\">\n    {{#header}}\n    <div class=\"ax-modal-header\" data-modal-els=\"header\">\n        {{{title}}}\n        {{#btns}}\n            <div class=\"ax-modal-header-addon\">\n            {{#@each}}\n            <button tabindex=\"-1\" data-modal-header-btn=\"{{@key}}\" class=\"{{@value.theme}}\">{{{@value.label}}}</button>\n            {{/@each}}\n            </div>\n        {{/btns}}\n    </div>\n    {{/header}}\n    <div class=\"ax-modal-body\" data-modal-els=\"body\">\n    {{#iframe}}\n        <div data-modal-els=\"iframe-wrap\" style=\"-webkit-overflow-scrolling: touch; overflow: auto;position: relative;\">\n            <table data-modal-els=\"iframe-loading\" style=\"width:100%;height:100%;\"><tr><td style=\"text-align: center;vertical-align: middle\">{{{iframeLoadingMsg}}}</td></tr></table>\n            <iframe name=\"{{modalId}}-frame\" src=\"\" width=\"100%\" height=\"100%\" frameborder=\"0\" data-modal-els=\"iframe\" style=\"position: absolute;left:0;top:0;\"></iframe>\n        </div>\n        <form name=\"{{modalId}}-form\" data-modal-els=\"iframe-form\">\n        <input type=\"hidden\" name=\"modalId\" value=\"{{modalId}}\" />\n        {{#param}}\n        {{#@each}}\n        <input type=\"hidden\" name=\"{{@key}}\" value=\"{{@value}}\" />\n        {{/@each}}\n        {{/param}}\n        </form>\n    {{/iframe}}\n    {{^iframe}}\n        <div data-modal-els=\"body-frame\" style=\"position: absolute;left:0;top:0;width:100%;height:100%;\"></div>\n    {{/iframe}}\n    </div>\n    {{^disableResize}}\n    <div data-ax6ui-modal-resizer=\"top\"></div>\n    <div data-ax6ui-modal-resizer=\"right\"></div>\n    <div data-ax6ui-modal-resizer=\"bottom\"></div>\n    <div data-ax6ui-modal-resizer=\"left\"></div>\n    <div data-ax6ui-modal-resizer=\"top-left\"></div>\n    <div data-ax6ui-modal-resizer=\"top-right\"></div>\n    <div data-ax6ui-modal-resizer=\"bottom-left\"></div>\n    <div data-ax6ui-modal-resizer=\"bottom-right\"></div>\n    {{/disableResize}}\n</div>`;\n    }\n};\nlet ENM = {\n    \"mousedown\": (info.supportTouch) ? \"touchstart\" : \"mousedown\",\n    \"mousemove\": (info.supportTouch) ? \"touchmove\" : \"mousemove\",\n    \"mouseup\": (info.supportTouch) ? \"touchend\" : \"mouseup\"\n};\nconst getMousePosition = function (e) {\n    let mouseObj = e;\n    if ('changedTouches' in e && e.changedTouches) {\n        mouseObj = e.changedTouches[0];\n    }\n    return {\n        clientX: mouseObj.clientX,\n        clientY: mouseObj.clientY\n    }\n};\n\nconst onStateChanged = function (opts, that) {\n    const eventProcessor = {\n        \"resize\": function (that) {\n            if (opts && opts.onResize) {\n                opts.onResize.call(that, that);\n            }\n            else if (this.onResize) {\n                this.onResize.call(that, that);\n            }\n        },\n        \"move\": function () {\n\n        }\n    };\n    if (that.state in eventProcessor) {\n        eventProcessor[that.state].call(this, that);\n    }\n\n    if (opts && opts.onStateChanged) {\n        opts.onStateChanged.call(that, that);\n    }\n    else if (this.onStateChanged) {\n        this.onStateChanged.call(that, that);\n    }\n    return true;\n};\nconst getContent = function (modalId, opts) {\n    let data = {\n        modalId: modalId,\n        theme: opts.theme,\n        header: opts.header,\n        fullScreen: (opts.fullScreen ? \"fullscreen\" : \"\"),\n        styles: \"\",\n        iframe: opts.iframe,\n        iframeLoadingMsg: opts.iframeLoadingMsg,\n        disableResize: opts.disableResize\n    };\n\n    if (opts.zIndex) {\n        data.styles += \"z-index:\" + opts.zIndex + \";\";\n    }\n    if (opts.absolute) {\n        data.styles += \"position:absolute;\";\n    }\n\n    if (data.iframe && typeof data.iframe.param === \"string\") {\n        data.iframe.param = ax5.util.param(data.iframe.param);\n    }\n\n    return mustache.render(tmpl.modal.call(this), data);\n};\nconst open = function (opts, callback) {\n    let that;\n\n    this.modalConfig = opts;\n    this.$activeModal = jQuery(getContent.call(this, opts.id, opts));\n\n    // 파트수집\n    this.$ = {\n        \"root\": this.$activeModal,\n        \"header\": this.$activeModal.find('[data-modal-els=\"header\"]'),\n        \"body\": this.$activeModal.find('[data-modal-els=\"body\"]')\n    };\n\n    if (opts.iframe) {\n        this.$[\"iframe-wrap\"] = this.$activeModal.find('[data-modal-els=\"iframe-wrap\"]');\n        this.$[\"iframe\"] = this.$activeModal.find('[data-modal-els=\"iframe\"]');\n        this.$[\"iframe-form\"] = this.$activeModal.find('[data-modal-els=\"iframe-form\"]');\n        this.$[\"iframe-loading\"] = this.$activeModal.find('[data-modal-els=\"iframe-loading\"]');\n    }\n    else {\n        this.$[\"body-frame\"] = this.$activeModal.find('[data-modal-els=\"body-frame\"]');\n    }\n\n    jQuery(document.body).append(this.$activeModal);\n    //- position 정렬\n    this.align();\n\n    that = {\n        self: this,\n        id: opts.id,\n        theme: opts.theme,\n        width: opts.width,\n        height: opts.height,\n        state: \"open\",\n        $: this.$\n    };\n\n    if (opts.iframe) {\n        this.$[\"iframe-wrap\"].css({height: opts.height});\n        this.$[\"iframe\"].css({height: opts.height});\n\n        // iframe content load\n        this.$[\"iframe-form\"].attr({\"method\": opts.iframe.method});\n        this.$[\"iframe-form\"].attr({\"target\": opts.id + \"-frame\"});\n        this.$[\"iframe-form\"].attr({\"action\": opts.iframe.url});\n        this.$[\"iframe\"].on(\"load\", (function () {\n            that.state = \"load\";\n            if (opts.iframeLoadingMsg) {\n                this.$[\"iframe-loading\"].hide();\n            }\n            onStateChanged.call(this, opts, that);\n        }).bind(this));\n        if (!opts.iframeLoadingMsg) {\n            this.$[\"iframe\"].show();\n        }\n        this.$[\"iframe-form\"].submit();\n    }\n\n    if (callback) callback.call(that, that);\n\n    onStateChanged.call(this, opts, that);\n\n    // bind key event\n    if (opts.closeToEsc) {\n        jQuery(window).on(\"keydown.ax-modal\", e => {\n            onkeyup.call(this, e || window.event);\n        });\n    }\n\n    jQuery(window).on(\"resize.ax-modal\", e => {\n        this.align(null, e || window.event);\n    });\n\n    this.$.header\n        .off(ENM[\"mousedown\"])\n        .off(\"dragstart\")\n        .on(ENM[\"mousedown\"], e => {\n            /// 이벤트 필터링 추가 : 버튼엘리먼트로 부터 발생된 이벤트이면 moveModal 시작하지 않도록 필터링\n            let isButton = U.findParentNode(e.currentTarget, function (_target) {\n                if (_target.getAttribute(\"data-modal-header-btn\")) {\n                    return true;\n                }\n            });\n\n            if (!opts.isFullScreen && !isButton && opts.disableDrag != true) {\n                this.mousePosition = getMousePosition(e);\n                moveModal.on.call(this);\n            }\n            if (isButton) {\n                btnOnClick.call(this, e || window.event, opts);\n            }\n        })\n        .on(\"dragstart\", e => {\n            U.stopEvent(e.originalEvent);\n            return false;\n        });\n\n    this.$activeModal\n        .off(ENM[\"mousedown\"])\n        .off(\"dragstart\")\n        .on(ENM[\"mousedown\"], \"[data-ax6ui-modal-resizer]\", e => {\n            if (opts.disableDrag || opts.isFullScreen) return false;\n            this.mousePosition = getMousePosition(e);\n            resizeModal.on.call(this, e.currentTarget.getAttribute(\"data-ax6ui-modal-resizer\"));\n        })\n        .on(\"dragstart\", e => {\n            U.stopEvent(e.originalEvent);\n            return false;\n        });\n};\nconst btnOnClick = function (e, opts, callback, target, k) {\n    let that;\n    if (e.srcElement) e.target = e.srcElement;\n\n    target = U.findParentNode(e.target, function (target) {\n        if (target.getAttribute(\"data-modal-header-btn\")) {\n            return true;\n        }\n    });\n\n    if (target) {\n        k = target.getAttribute(\"data-modal-header-btn\");\n\n        that = {\n            self: this,\n            key: k, value: opts.header.btns[k],\n            dialogId: opts.id,\n            btnTarget: target\n        };\n\n        if (opts.header.btns[k].onClick) {\n            opts.header.btns[k].onClick.call(that, that);\n        }\n    }\n\n    that = null;\n    opts = null;\n    callback = null;\n    target = null;\n    k = null;\n};\nconst onkeyup = function (e) {\n    if (e.keyCode == info.eventKeys.ESC) {\n        this.close();\n    }\n};\nconst alignProcessor = {\n        \"top-left\": function () {\n            this.align({left: \"left\", top: \"top\"});\n        },\n        \"top-right\": function () {\n            this.align({left: \"right\", top: \"top\"});\n        },\n        \"bottom-left\": function () {\n            this.align({left: \"left\", top: \"bottom\"});\n        },\n        \"bottom-right\": function () {\n            this.align({left: \"right\", top: \"bottom\"});\n        },\n        \"center-middle\": function () {\n            this.align({left: \"center\", top: \"middle\"});\n        }\n};\nconst moveModal = {\n    \"on\": function () {\n        let modalZIndex = this.$activeModal.css(\"z-index\"),\n            modalOffset = this.$activeModal.position(),\n            modalBox = {\n                width: this.$activeModal.outerWidth(), height: this.$activeModal.outerHeight()\n            },\n            windowBox = {\n                width: jQuery(window).width(),\n                height: jQuery(window).height(),\n                scrollLeft: (this.modalConfig.absolute) ? 0 : jQuery(document).scrollLeft(),\n                scrollTop: (this.modalConfig.absolute) ? 0 : jQuery(document).scrollTop(),\n            },\n            getResizerPosition = function (e) {\n                this.__dx = e.clientX - this.mousePosition.clientX;\n                this.__dy = e.clientY - this.mousePosition.clientY;\n\n                if (minX > modalOffset.left + this.__dx) {\n                    this.__dx = -modalOffset.left;\n                }\n                else if (maxX < modalOffset.left + this.__dx) {\n                    this.__dx = (maxX) - modalOffset.left;\n                }\n\n                if (minY > modalOffset.top + this.__dy) {\n                    this.__dy = -modalOffset.top;\n                }\n                else if (maxY < modalOffset.top + this.__dy) {\n                    this.__dy = (maxY) - modalOffset.top;\n                }\n\n                return {\n                    left: modalOffset.left + this.__dx + windowBox.scrollLeft,\n                    top: modalOffset.top + this.__dy + windowBox.scrollTop\n                };\n            };\n\n        let minX = 0, maxX = windowBox.width - modalBox.width,\n            minY = 0, maxY = windowBox.height - modalBox.height;\n\n        this.__dx = 0; // 변화량 X\n        this.__dy = 0; // 변화량 Y\n\n        // this.$resizerBg : body 가 window보다 작을 때 문제 해결을 위한 DIV\n        this.$resizerBg.css({zIndex: modalZIndex});\n        this.$resizer.css({\n            left: modalOffset.left + windowBox.scrollLeft,\n            top: modalOffset.top + windowBox.scrollTop,\n            width: modalBox.width,\n            height: modalBox.height,\n            zIndex: modalZIndex + 1\n        });\n\n        jQuery(document.body)\n            .append(this.$resizerBg)\n            .append(this.$resizer);\n        \n        this.$activeModal.addClass(\"draged\");\n\n        jQuery(document.body)\n            .on(ENM[\"mousemove\"] + \".ax6modal-move-\" + this.instanceId, U.throttle(function (e) {\n                this.$resizer.css(getResizerPosition.call(this, e));\n            }, 30).bind(this))\n            .on(ENM[\"mouseup\"] + \".ax6modal-move-\" + this.instanceId, e => {\n                moveModal.off.call(this);\n            })\n            .on(\"mouseleave.ax6modal-move-\" + this.instanceId, e => {\n                moveModal.off.call(this);\n            });\n\n        jQuery(document.body)\n            .attr('unselectable', 'on')\n            .css('user-select', 'none')\n            .on('selectstart', false);\n    },\n    \"off\": function () {\n        const setModalPosition = function () {\n            let box = this.$resizer.offset();\n            if (!this.modalConfig.absolute) {\n                box.left -= jQuery(document).scrollLeft();\n                box.top -= jQuery(document).scrollTop();\n            }\n            this.$activeModal.css(box);\n            this.modalConfig.left = box.left;\n            this.modalConfig.top = box.top;\n\n            box = null;\n        };\n\n        this.$activeModal.removeClass(\"draged\");\n        setModalPosition.call(this);\n\n        this.$resizer.remove();\n        this.$resizer = null;\n        this.$resizerBg.remove();\n        this.$resizerBg = null;\n\n        jQuery(document.body)\n            .off(ENM[\"mousemove\"] + \".ax6modal-move-\" + this.instanceId)\n            .off(ENM[\"mouseup\"] + \".ax6modal-move-\" + this.instanceId)\n            .off(\"mouseleave.ax6modal-move-\" + this.instanceId);\n\n        jQuery(document.body)\n            .removeAttr('unselectable')\n            .css('user-select', 'auto')\n            .off('selectstart');\n\n        onStateChanged.call(this, this.modalConfig, {\n            self: this,\n            state: \"move\"\n        });\n\n    }\n};\nconst resizeModal = {\n    \"on\": function (resizerType) {\n        let modalZIndex = this.$activeModal.css(\"z-index\"),\n            modalOffset = this.$activeModal.position(),\n            modalBox = {\n                width: this.$activeModal.outerWidth(), height: this.$activeModal.outerHeight()\n            },\n            windowBox = {\n                width: jQuery(window).width(),\n                height: jQuery(window).height(),\n                scrollLeft: (this.modalConfig.absolute) ? 0 : jQuery(document).scrollLeft(),\n                scrollTop: (this.modalConfig.absolute) ? 0 : jQuery(document).scrollTop(),\n            },\n            resizerProcessor = {\n                \"top\": function (e) {\n\n                    if (minHeight > modalBox.height - this.__dy) {\n                        this.__dy = modalBox.height - (minHeight);\n                    }\n\n                    if (e.shiftKey) {\n\n                        if (minHeight > modalBox.height - (this.__dy * 2)) {\n                            this.__dy = (modalBox.height - (minHeight)) / 2;\n                        }\n\n                        return {\n                            left: modalOffset.left,\n                            top: modalOffset.top + this.__dy,\n                            width: modalBox.width,\n                            height: modalBox.height - (this.__dy * 2)\n                        };\n                    }\n                    else if (e.altKey) {\n\n                        if (minHeight > modalBox.height - (this.__dy * 2)) {\n                            this.__dy = (modalBox.height - (minHeight)) / 2;\n                        }\n\n                        return {\n                            left: modalOffset.left + this.__dy,\n                            top: modalOffset.top + this.__dy,\n                            width: modalBox.width - (this.__dy * 2),\n                            height: modalBox.height - (this.__dy * 2)\n                        };\n                    }\n                    else {\n                        return {\n                            left: modalOffset.left,\n                            top: modalOffset.top + this.__dy,\n                            width: modalBox.width,\n                            height: modalBox.height - this.__dy,\n                        };\n                    }\n                },\n                \"bottom\": function (e) {\n\n                    if (minHeight > modalBox.height + this.__dy) {\n                        this.__dy = -modalBox.height + (minHeight);\n                    }\n\n                    if (e.shiftKey) {\n\n                        if (minHeight > modalBox.height + (this.__dy * 2)) {\n                            this.__dy = (-modalBox.height + (minHeight)) / 2;\n                        }\n\n                        return {\n                            left: modalOffset.left,\n                            top: modalOffset.top - this.__dy,\n                            width: modalBox.width,\n                            height: modalBox.height + (this.__dy * 2)\n                        };\n                    }\n                    else if (e.altKey) {\n\n                        if (minHeight > modalBox.height + (this.__dy * 2)) {\n                            this.__dy = (-modalBox.height + (minHeight)) / 2;\n                        }\n\n                        return {\n                            left: modalOffset.left - this.__dy,\n                            top: modalOffset.top - this.__dy,\n                            width: modalBox.width + (this.__dy * 2),\n                            height: modalBox.height + (this.__dy * 2),\n                        };\n                    }\n                    else {\n                        return {\n                            left: modalOffset.left,\n                            top: modalOffset.top,\n                            width: modalBox.width,\n                            height: modalBox.height + this.__dy,\n                        };\n                    }\n                },\n                \"left\": function (e) {\n\n                    if (minWidth > modalBox.width - this.__dx) {\n                        this.__dx = modalBox.width - (minWidth);\n                    }\n\n                    if (e.shiftKey) {\n\n                        if (minWidth > modalBox.width - (this.__dx * 2)) {\n                            this.__dx = (modalBox.width - (minWidth)) / 2;\n                        }\n\n                        return {\n                            left: modalOffset.left + this.__dx,\n                            top: modalOffset.top,\n                            width: modalBox.width - (this.__dx * 2),\n                            height: modalBox.height\n                        };\n                    }\n                    else if (e.altKey) {\n\n                        if (minWidth > modalBox.width - (this.__dx * 2)) {\n                            this.__dx = (modalBox.width - (minWidth)) / 2;\n                        }\n\n                        return {\n                            left: modalOffset.left + this.__dx,\n                            top: modalOffset.top + this.__dx,\n                            width: modalBox.width - (this.__dx * 2),\n                            height: modalBox.height - (this.__dx * 2),\n                        };\n                    }\n                    else {\n                        return {\n                            left: modalOffset.left + this.__dx,\n                            top: modalOffset.top,\n                            width: modalBox.width - this.__dx,\n                            height: modalBox.height,\n                        };\n                    }\n                },\n                \"right\": function (e) {\n\n                    if (minWidth > modalBox.width + this.__dx) {\n                        this.__dx = -modalBox.width + (minWidth);\n                    }\n\n                    if (e.shiftKey) {\n\n                        if (minWidth > modalBox.width + (this.__dx * 2)) {\n                            this.__dx = (-modalBox.width + (minWidth)) / 2;\n                        }\n\n                        return {\n                            left: modalOffset.left - this.__dx,\n                            top: modalOffset.top,\n                            width: modalBox.width + (this.__dx * 2),\n                            height: modalBox.height,\n                        };\n                    }\n                    else if (e.altKey) {\n\n                        if (minWidth > modalBox.width + (this.__dx * 2)) {\n                            this.__dx = (-modalBox.width + (minWidth)) / 2;\n                        }\n\n                        return {\n                            left: modalOffset.left - this.__dx,\n                            top: modalOffset.top - this.__dx,\n                            width: modalBox.width + (this.__dx * 2),\n                            height: modalBox.height + (this.__dx * 2),\n                        };\n                    }\n                    else {\n                        return {\n                            left: modalOffset.left,\n                            top: modalOffset.top,\n                            width: modalBox.width + this.__dx,\n                            height: modalBox.height,\n                        };\n                    }\n                },\n                \"top-left\": function (e) {\n\n                    if (minWidth > modalBox.width - this.__dx) {\n                        this.__dx = modalBox.width - (minWidth);\n                    }\n\n                    if (minHeight > modalBox.height - this.__dy) {\n                        this.__dy = modalBox.height - (minHeight);\n                    }\n\n                    if (e.shiftKey || e.altKey) {\n\n                        if (minHeight > modalBox.height - (this.__dy * 2)) {\n                            this.__dy = (modalBox.height - (minHeight)) / 2;\n                        }\n                        if (minWidth > modalBox.width - (this.__dx * 2)) {\n                            this.__dx = (modalBox.width - (minWidth)) / 2;\n                        }\n\n                        return {\n                            left: modalOffset.left + this.__dx,\n                            top: modalOffset.top + this.__dy,\n                            width: modalBox.width - (this.__dx * 2),\n                            height: modalBox.height - (this.__dy * 2),\n                        };\n                    }\n                    else {\n\n                        if (minHeight > modalBox.height - (this.__dy * 2)) {\n                            this.__dy = (modalBox.height - (minHeight)) / 2;\n                        }\n                        if (minWidth > modalBox.width - (this.__dx * 2)) {\n                            this.__dx = (modalBox.width - (minWidth)) / 2;\n                        }\n\n                        return {\n                            left: modalOffset.left + this.__dx,\n                            top: modalOffset.top + this.__dy,\n                            width: modalBox.width - this.__dx,\n                            height: modalBox.height - this.__dy,\n                        };\n                    }\n                },\n                \"top-right\": function (e) {\n\n                    if (minWidth > modalBox.width + this.__dx) {\n                        this.__dx = -modalBox.width + (minWidth);\n                    }\n\n                    if (minHeight > modalBox.height - this.__dy) {\n                        this.__dy = modalBox.height - (minHeight);\n                    }\n\n                    if (e.shiftKey || e.altKey) {\n\n                        if (minHeight > modalBox.height - (this.__dy * 2)) {\n                            this.__dy = (modalBox.height - (minHeight)) / 2;\n                        }\n                        if (minWidth > modalBox.width + (this.__dx * 2)) {\n                            this.__dx = (-modalBox.width + (minWidth)) / 2;\n                        }\n\n                        return {\n                            left: modalOffset.left - this.__dx,\n                            top: modalOffset.top + this.__dy,\n                            width: modalBox.width + (this.__dx * 2),\n                            height: modalBox.height - (this.__dy * 2),\n                        };\n                    }\n                    else {\n                        return {\n                            left: modalOffset.left,\n                            top: modalOffset.top + this.__dy,\n                            width: modalBox.width + this.__dx,\n                            height: modalBox.height - this.__dy,\n                        };\n                    }\n                },\n                \"bottom-left\": function (e) {\n\n                    if (minWidth > modalBox.width - this.__dx) {\n                        this.__dx = modalBox.width - (minWidth);\n                    }\n\n                    if (minHeight > modalBox.height + this.__dy) {\n                        this.__dy = -modalBox.height + (minHeight);\n                    }\n\n                    if (e.shiftKey || e.altKey) {\n                        if (minWidth > modalBox.width - (this.__dx * 2)) {\n                            this.__dx = (modalBox.width - (minWidth)) / 2;\n                        }\n                        if (minHeight > modalBox.height + (this.__dy * 2)) {\n                            this.__dy = (-modalBox.height + (minHeight)) / 2;\n                        }\n                        return {\n                            left: modalOffset.left + this.__dx,\n                            top: modalOffset.top - this.__dy,\n                            width: modalBox.width - (this.__dx * 2),\n                            height: modalBox.height + (this.__dy * 2),\n                        };\n                    }\n                    else {\n                        return {\n                            left: modalOffset.left + this.__dx,\n                            top: modalOffset.top,\n                            width: modalBox.width - this.__dx,\n                            height: modalBox.height + this.__dy,\n                        };\n                    }\n                },\n                \"bottom-right\": function (e) {\n\n                    if (minWidth > modalBox.width + this.__dx) {\n                        this.__dx = -modalBox.width + (minWidth);\n                    }\n\n                    if (minHeight > modalBox.height + this.__dy) {\n                        this.__dy = -modalBox.height + (minHeight);\n                    }\n\n                    if (e.shiftKey || e.altKey) {\n                        if (minWidth > modalBox.width + (this.__dx * 2)) {\n                            this.__dx = (-modalBox.width + (minWidth)) / 2;\n                        }\n                        if (minHeight > modalBox.height + (this.__dy * 2)) {\n                            this.__dy = (-modalBox.height + (minHeight)) / 2;\n                        }\n                        return {\n                            left: modalOffset.left - this.__dx,\n                            top: modalOffset.top - this.__dy,\n                            width: modalBox.width + (this.__dx * 2),\n                            height: modalBox.height + (this.__dy * 2),\n                        };\n                    }\n                    else {\n                        return {\n                            left: modalOffset.left,\n                            top: modalOffset.top,\n                            width: modalBox.width + this.__dx,\n                            height: modalBox.height + this.__dy,\n                        };\n                    }\n                },\n            },\n            getResizerPosition = function (e) {\n                this.__dx = e.clientX - this.mousePosition.clientX;\n                this.__dy = e.clientY - this.mousePosition.clientY;\n\n                return resizerProcessor[resizerType](e);\n            };\n\n        if (!this.modalConfig.absolute) {\n            modalOffset.left += windowBox.scrollLeft;\n            modalOffset.top += windowBox.scrollTop;\n        }\n\n        let minWidth = 100,\n            minHeight = 100;\n\n        let cursorType = {\n            \"top\": \"row-resize\",\n            \"bottom\": \"row-resize\",\n            \"left\": \"col-resize\",\n            \"right\": \"col-resize\",\n            \"top-left\": \"nwse-resize\",\n            \"top-right\": \"nesw-resize\",\n            \"bottom-left\": \"nesw-resize\",\n            \"bottom-right\": \"nwse-resize\",\n        };\n\n        this.__dx = 0; // 변화량 X\n        this.__dy = 0; // 변화량 Y\n\n        // this.$resizerBg : body 가 window보다 작을 때 문제 해결을 위한 DIV\n        this.$resizerBg.css({\n            zIndex: modalZIndex,\n            cursor: cursorType[resizerType]\n        });\n        this.$resizer.css({\n            left: modalOffset.left,\n            top: modalOffset.top,\n            width: modalBox.width,\n            height: modalBox.height,\n            zIndex: modalZIndex + 1,\n            cursor: cursorType[resizerType]\n        });\n        \n        jQuery(document.body)\n            .append(this.$resizerBg)\n            .append(this.$resizer);\n        \n        this.$activeModal.addClass(\"draged\");\n\n        jQuery(document.body)\n            .on(ENM[\"mousemove\"] + \".ax6modal-resize-\" + this.instanceId, U.throttle(function(e){\n                this.$resizer.css(getResizerPosition.call(e));\n            }, 30).bind(this))\n            .on(ENM[\"mouseup\"] + \".ax6modal-resize-\" + this.instanceId, e => {\n                resizeModal.off.call(this);\n            })\n            .on(\"mouseleave.ax6modal-resize-\" + this.instanceId, e => {\n                resizeModal.off.call(this);\n            });\n\n        jQuery(document.body)\n            .attr('unselectable', 'on')\n            .css('user-select', 'none')\n            .bind('selectstart', false);\n    },\n    \"off\": function () {\n        let setModalPosition = function () {\n            let box = this.$resizer.offset();\n            jQuery.extend(box, {\n                width: this.$resizer.width(),\n                height: this.$resizer.height(),\n            });\n            if (!this.modalConfig.absolute) {\n                box.left -= jQuery(document).scrollLeft();\n                box.top -= jQuery(document).scrollTop();\n            }\n            this.$activeModal.css(box);\n\n            this.modalConfig.left = box.left;\n            this.modalConfig.top = box.top;\n            this.modalConfig.width = box.width;\n            this.modalConfig.height = box.height;\n            this.$[\"body\"].css({height: box.height - this.modalConfig.headerHeight});\n            if (this.modalConfig.iframe) {\n                this.$[\"iframe-wrap\"].css({height: box.height - this.modalConfig.headerHeight});\n                this.$[\"iframe\"].css({height: box.height - this.modalConfig.headerHeight});\n            }\n\n            box = null;\n        };\n\n        this.$activeModal.removeClass(\"draged\");\n        setModalPosition.call(this);\n\n        this.$resizer.remove();\n        this.$resizerBg.remove();\n\n        onStateChanged.call(this, this.modalConfig, {\n            self: this,\n            state: \"resize\"\n        });\n\n        jQuery(document.body)\n            .off(ENM[\"mousemove\"] + \".ax6modal-resize-\" + this.instanceId)\n            .off(ENM[\"mouseup\"] + \".ax6modal-resize-\" + this.instanceId)\n            .off(\"mouseleave.ax6modal-resize-\" + this.instanceId);\n\n        jQuery(document.body)\n            .removeAttr('unselectable')\n            .css('user-select', 'auto')\n            .off('selectstart');\n\n    }\n};\n\n\n/**\n * @class\n */\nclass AX6UIModal extends AX6UICore {\n    /**\n     * @constructor\n     * @param config\n     */\n    constructor(config) {\n        super();\n\n        /**\n         * @member {JSON}\n         * @param config\n         * @param [config.id='ax6ui-modal-' + this.instanceId]\n         * @param [config.position]\n         * @param [config.position.left='cener']\n         * @param [config.position.top='middle']\n         * @param [config.position.margin=10]\n         * @param [config.minimizePosition='bottom-right']\n         * @param [config.clickEventName]\n         * @param [config.theme]\n         * @param [config.width=300]\n         * @param [config.height=400]\n         * @param [config.closeToEsc]\n         * @param [config.disableDrag]\n         * @param [config.disableResize]\n         * @param [config.animateTime=250]\n         * @param [config.iframe=false]\n         */\n        this.config = {\n            id: 'ax6ui-modal-' + this.instanceId,\n            position: {\n                left: \"center\",\n                top: \"middle\",\n                margin: 10\n            },\n            minimizePosition: \"bottom-right\",\n            clickEventName: (('ontouchstart' in document.documentElement) ? \"touchstart\" : \"click\"),\n            theme: 'default',\n            width: 300,\n            height: 400,\n            closeToEsc: true,\n            disableDrag: false,\n            disableResize: false,\n            animateTime: 250,\n            iframe: false\n        };\n        jQuery.extend(true, this.config, config);\n\n        // 멤버 변수 초기화\n        /**\n         * 열려있는 상태에서 다시 open이 되면 queue에 보관 하였다가 close후 open\n         * @member {Array}\n         */\n        this.queue = [];\n        /**\n         * @member {jQueryElement}\n         */\n        this.$activeModal = null;\n        this.$ = {};\n        \n        this.$resizerBg = jQuery('<div data-ax6ui-modal-resizer-background=\"\" ondragstart=\"return false;\"></div>');\n        this.$resizer = jQuery('<div data-ax6ui-modal-resizer=\"\" ondragstart=\"return false;\"></div>');\n        \n        if(typeof config !== \"undefined\") this.init();\n    }\n\n    /**\n     * @method\n     */\n    init(){\n        this.onStateChanged = this.config.onStateChanged;\n        delete this.config.onStateChanged;\n        \n        // init 호출 여부\n        this.initOnce();\n    }\n\n    /**\n     * @method\n     */\n    initOnce(){\n        if(this.initialized) return this;\n        this.initialized = true;\n    }\n\n\n    /**\n     * open the modal\n     * @method\n     * @returns {AX6UIModal}\n     * @example\n     * ```\n     * modal.open();\n     * modal.open({\n             *  width: 500,\n             *  height: 500\n             * });\n     * moaal.open({}, function(){\n             *  console.log(this);\n             * });\n     * ```\n     */\n    open(opts, callback, tryCount) {\n        if (typeof opts === \"undefined\") {\n            opts = {}\n        }\n\n        opts = jQuery.extend(true, {}, this.config, opts, {\n            callback: callback\n        });\n\n        if (this.$activeModal) {\n            this.queue.push(opts);\n        } else {\n            open.call(this, opts, callback);\n        }\n\n        return this;\n    }\n\n    /**\n     * close the modal\n     * @method\n     * @param _option\n     * @returns {AX6UIModal}\n     * @example\n     * ```\n     * modal.close();\n     * modal.close({callback: function(){\n     *  // on close event\n     * });\n     * // close 함수에 callback을 전달하면 정확한 close 타이밍을 캐치할 수 있습니다\n     * ```\n     */\n    close(_option) {\n        let opts, that;\n\n        if (this.$activeModal) {\n            opts = this.modalConfig;\n\n            this.$activeModal.addClass(\"destroy\");\n            jQuery(window)\n                .off(\"keydown.ax-modal\")\n                .off(\"resize.ax-modal\");\n\n            setTimeout((function () {\n                // 프레임 제거\n                if (opts.iframe) {\n                    let $iframe = this.$[\"iframe\"]; // iframe jQuery Object\n                    if ($iframe) {\n                        let iframeObject = $iframe.get(0),\n                            idoc = (iframeObject.contentDocument) ? iframeObject.contentDocument : iframeObject.contentWindow.document;\n\n                        try {\n                            $(idoc.body).children().each(function () {\n                                $(this).remove();\n                            });\n                        }\n                        catch (e) {\n\n                        }\n                        idoc.innerHTML = \"\";\n                        $iframe\n                            .attr('src', 'about:blank')\n                            .remove();\n\n                        // force garbarge collection for IE only\n                        window.CollectGarbage && window.CollectGarbage();\n                    }\n                }\n\n                if (this.$activeModal) {\n                    this.$activeModal.remove();\n                    this.$activeModal = null;\n                }\n\n                that = {\n                    self: this,\n                    id: opts.id,\n                    theme: opts.theme,\n                    width: opts.width,\n                    height: opts.height,\n                    state: \"close\",\n                    $: this.$\n                };\n\n                if (_option && U.isFunction(_option.callback)) {\n                    _option.callback.call(that, that);\n                } else if (opts.callback && (!_option || !_option.doNotCallback)) {\n                    opts.callback.call(that, that);\n                }\n\n                if (opts && opts.onStateChanged) {\n                    opts.onStateChanged.call(that, that);\n                }\n                else if (this.onStateChanged) {\n                    this.onStateChanged.call(that, that);\n                }\n\n                // 열려야 할 큐가 남아 있다면 큐아이템으로 다시 open\n                if (this.queue && this.queue.length) {\n                    open.call(this, this.queue.shift());\n                }\n\n                opts = null;\n                that = null;\n            }).bind(this), this.config.animateTime);\n        }\n\n        this.minimized = false; // hoksi\n\n        return this;\n    };\n\n    /**\n     * @method\n     * @returns {AX6UIModal}\n     */\n    minimize(minimizePosition) {\n        if (this.minimized !== true) {\n\n            let opts = this.modalConfig;\n            if (typeof minimizePosition === \"undefined\") minimizePosition = cfg.minimizePosition;\n\n            this.minimized = true;\n            this.$.body.css({display: \"none\"});\n            this.modalConfig.originalHeight = opts.height;\n            this.modalConfig.height = 0;\n            alignProcessor[minimizePosition].call(this);\n\n            onStateChanged.call(this, opts, {\n                self: this,\n                state: \"minimize\"\n            });\n        }\n\n        return this;\n    };\n\n    /**\n     * @method ax5modal.restore\n     * @returns {AX6UIModal}\n     */\n    restore() {\n        let opts = this.modalConfig;\n        if (this.minimized) {\n            this.minimized = false;\n            this.$.body.css({display: \"block\"});\n            this.modalConfig.height = this.modalConfig.originalHeight;\n            this.modalConfig.originalHeight = undefined;\n\n            this.align({left: \"center\", top: \"middle\"});\n            onStateChanged.call(this, opts, {\n                self: this,\n                state: \"restore\"\n            });\n        }\n        return this;\n    };\n\n    /**\n     * setCSS\n     * @method ax5modal.css\n     * @param {Object} css -\n     * @returns {AX6UIModal}\n     */\n    css(css) {\n        if (this.$activeModal && !this.fullScreen) {\n            this.$activeModal.css(css);\n            if (typeof css.width !== \"undefined\") {\n                this.modalConfig.width = css.width;\n            }\n            if (typeof css.height !== \"undefined\") {\n                this.modalConfig.height = css.height;\n            }\n\n            this.align();\n        }\n        return this;\n    };\n\n    /**\n     * @method\n     * @param _config\n     * @returns {AX6UIModal}\n     */\n    setModalConfig(_config) {\n        this.modalConfig = jQuery.extend({}, this.modalConfig, _config);\n        this.align();\n        return this;\n    };\n\n    /**\n     * @method ax5modal.align\n     * @param position\n     * @param e\n     * @returns {ax5modal}\n     * @example\n     * ```js\n     * modal.align({left:\"center\", top:\"middle\"});\n     * modal.align({left:\"left\", top:\"top\", margin: 20});\n     * ```\n     */\n    align(position, e) {\n        if (!this.$activeModal) return this;\n\n        let opts = this.modalConfig,\n            box = {\n                width: opts.width,\n                height: opts.height\n            };\n\n        const fullScreen = opts.isFullScreen = (function (_fullScreen) {\n            if (typeof _fullScreen === \"undefined\") {\n                return false;\n            } else if (U.isFunction(_fullScreen)) {\n                return _fullScreen();\n            }\n        })(opts.fullScreen);\n\n        if (fullScreen) {\n            if (opts.header) this.$.header.show();\n            if (opts.header) {\n                opts.headerHeight = this.$.header.outerHeight();\n                box.height += opts.headerHeight;\n            } else {\n                opts.headerHeight = 0;\n            }\n            box.width = jQuery(window).width();\n            box.height = opts.height;\n            box.left = 0;\n            box.top = 0;\n        }\n        else {\n            if (opts.header) this.$.header.show();\n            if (position) {\n                jQuery.extend(true, opts.position, position);\n            }\n\n            if (opts.header) {\n                opts.headerHeight = this.$.header.outerHeight();\n                box.height += opts.headerHeight;\n            } else {\n                opts.headerHeight = 0;\n            }\n\n            //- position 정렬\n            if (opts.position.left == \"left\") {\n                box.left = (opts.position.margin || 0);\n            }\n            else if (opts.position.left == \"right\") {\n                // window.innerWidth;\n                box.left = jQuery(window).width() - box.width - (opts.position.margin || 0);\n            }\n            else if (opts.position.left == \"center\") {\n                box.left = jQuery(window).width() / 2 - box.width / 2;\n            }\n            else {\n                box.left = opts.position.left || 0;\n            }\n\n            if (opts.position.top == \"top\") {\n                box.top = (opts.position.margin || 0);\n            }\n            else if (opts.position.top == \"bottom\") {\n                box.top = jQuery(window).height() - box.height - (opts.position.margin || 0);\n            }\n            else if (opts.position.top == \"middle\") {\n                box.top = jQuery(window).height() / 2 - box.height / 2;\n            }\n            else {\n                box.top = opts.position.top || 0;\n            }\n            if (box.left < 0) box.left = 0;\n            if (box.top < 0) box.top = 0;\n        }\n\n        this.$activeModal.css(box);\n        this.$[\"body\"].css({height: box.height - (opts.headerHeight || 0)});\n\n        if (opts.iframe) {\n            this.$[\"iframe-wrap\"].css({height: box.height - opts.headerHeight});\n            this.$[\"iframe\"].css({height: box.height - opts.headerHeight});\n        } else {\n\n        }\n        return this;\n    }\n\n}\n\nexport default AX6UIModal;"]}