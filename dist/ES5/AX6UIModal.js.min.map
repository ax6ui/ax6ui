{"version":3,"sources":["AX6UIModal.js"],"names":["_jqmin","require","_AX6UICore2","_AX6Util","_AX6Info","_AX6Mustache","tmpl","modal","clientY","mousedown","_AX6Info2","default","supportTouch","mousemove","mouseup","eventProcessor","e","mouseObj","onResize","changedTouches","opts","clientX","that","call","resize","onStateChanged","this","getContent","header","fullScreen","iframeLoadingMsg","disableResize","data","modalId","theme","iframe","param","styles","open","zIndex","$activeModal","ax5","util","_AX6Mustache2","callback","_this","_jqmin2","id","$","root","find","body","self","width","height","append","align","state","show","css","attr","method","action","url","on","closeToEsc","hide","onkeyup","window","event","bind","off","isButton","ENM","findParentNode","currentTarget","disableDrag","isFullScreen","mousePosition","getMousePosition","moveModal","srcElement","target","getAttribute","_AX6Util2","stopEvent","originalEvent","k","key","dialogId","btnOnClick","alignProcessor","value","left","top","btnTarget","btns","onClick","keyCode","eventKeys","ESC","close","scrollTop","bottom-right","center-middle","modalOffset","__dx","_this2","modalZIndex","__dy","position","modalBox","maxY","outerHeight","windowBox","modalConfig","absolute","document","getResizerPosition","minX","maxX","$resizer","$resizerBg","minY","scrollLeft","setModalPosition","box","addClass","removeClass","instanceId","throttle","offset","resizeModal","resizerType","remove","resizerProcessor","minHeight","removeAttr","shiftKey","bottom","minWidth","altKey","right","top-left","top-right","bottom-left","cursorType","cursor","_this3","extend","headerHeight","margin","clickEventName","animateTime","AX6UIModal","config","_classCallCheck","_this4","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","initialized","minimizePosition","documentElement","queue","init","initOnce","push","$iframe","_option","setTimeout","get","shift","idoc","iframeObject","contentDocument","contentWindow","children","each","minimized","innerHTML","CollectGarbage","isFunction","doNotCallback","length","cfg","display","originalHeight","undefined","_config","_fullScreen"],"mappings":"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","file":"AX6UIModal.js","sourcesContent":["import jQuery from \"jqmin\";\nimport AX6UICore from \"./AX6UICore.js\";\nimport U from \"./AX6Util\";\nimport info from \"./AX6Info\";\nimport mustache from \"./AX6Mustache\";\nimport \"./AX6UIModal/index.scss\";\n\nlet tmpl = {\n  modal() {\n    return ` \n<div data-ax6ui-modal=\"{{modalId}}\" data-modal-els=\"root\" class=\"{{theme}} {{fullscreen}}\" style=\"{{styles}}\">\n    {{#header}}\n    <div class=\"ax-modal-header\" data-modal-els=\"header\">\n        {{{title}}}\n        {{#btns}}\n            <div class=\"ax-modal-header-addon\">\n            {{#@each}}\n            <button tabindex=\"-1\" data-modal-header-btn=\"{{@key}}\" class=\"{{@value.theme}}\">{{{@value.label}}}</button>\n            {{/@each}}\n            </div>\n        {{/btns}}\n    </div>\n    {{/header}}\n    <div class=\"ax-modal-body\" data-modal-els=\"body\">\n    {{#iframe}}\n        <div data-modal-els=\"iframe-wrap\" style=\"-webkit-overflow-scrolling: touch; overflow: auto;position: relative;\">\n            <table data-modal-els=\"iframe-loading\" style=\"width:100%;height:100%;\"><tr><td style=\"text-align: center;vertical-align: middle\">{{{iframeLoadingMsg}}}</td></tr></table>\n            <iframe name=\"{{modalId}}-frame\" src=\"\" width=\"100%\" height=\"100%\" frameborder=\"0\" data-modal-els=\"iframe\" style=\"position: absolute;left:0;top:0;\"></iframe>\n        </div>\n        <form name=\"{{modalId}}-form\" data-modal-els=\"iframe-form\">\n        <input type=\"hidden\" name=\"modalId\" value=\"{{modalId}}\" />\n        {{#param}}\n        {{#@each}}\n        <input type=\"hidden\" name=\"{{@key}}\" value=\"{{@value}}\" />\n        {{/@each}}\n        {{/param}}\n        </form>\n    {{/iframe}}\n    {{^iframe}}\n        <div data-modal-els=\"body-frame\" style=\"position: absolute;left:0;top:0;width:100%;height:100%;\"></div>\n    {{/iframe}}\n    </div>\n    {{^disableResize}}\n    <div data-ax6ui-modal-resizer=\"top\"></div>\n    <div data-ax6ui-modal-resizer=\"right\"></div>\n    <div data-ax6ui-modal-resizer=\"bottom\"></div>\n    <div data-ax6ui-modal-resizer=\"left\"></div>\n    <div data-ax6ui-modal-resizer=\"top-left\"></div>\n    <div data-ax6ui-modal-resizer=\"top-right\"></div>\n    <div data-ax6ui-modal-resizer=\"bottom-left\"></div>\n    <div data-ax6ui-modal-resizer=\"bottom-right\"></div>\n    {{/disableResize}}\n</div>`;\n  }\n};\nlet ENM = {\n  \"mousedown\": (info.supportTouch) ? \"touchstart\" : \"mousedown\",\n  \"mousemove\": (info.supportTouch) ? \"touchmove\" : \"mousemove\",\n  \"mouseup\": (info.supportTouch) ? \"touchend\" : \"mouseup\"\n};\nconst getMousePosition = function (e) {\n  let mouseObj = e;\n  if ('changedTouches' in e && e.changedTouches) {\n    mouseObj = e.changedTouches[0];\n  }\n  return {\n    clientX: mouseObj.clientX,\n    clientY: mouseObj.clientY\n  }\n};\n\nconst onStateChanged = function (opts, that) {\n  const eventProcessor = {\n    \"resize\": function (that) {\n      if (opts && opts.onResize) {\n        opts.onResize.call(that, that);\n      }\n      else if (this.onResize) {\n        this.onResize.call(that, that);\n      }\n    },\n    \"move\": function () {\n\n    }\n  };\n  if (that.state in eventProcessor) {\n    eventProcessor[that.state].call(this, that);\n  }\n\n  if (opts && opts.onStateChanged) {\n    opts.onStateChanged.call(that, that);\n  }\n  else if (this.onStateChanged) {\n    this.onStateChanged.call(that, that);\n  }\n  return true;\n};\nconst getContent = function (modalId, opts) {\n  let data = {\n    modalId: modalId,\n    theme: opts.theme,\n    header: opts.header,\n    fullScreen: (opts.fullScreen ? \"fullscreen\" : \"\"),\n    styles: \"\",\n    iframe: opts.iframe,\n    iframeLoadingMsg: opts.iframeLoadingMsg,\n    disableResize: opts.disableResize\n  };\n\n  if (opts.zIndex) {\n    data.styles += \"z-index:\" + opts.zIndex + \";\";\n  }\n  if (opts.absolute) {\n    data.styles += \"position:absolute;\";\n  }\n\n  if (data.iframe && typeof data.iframe.param === \"string\") {\n    data.iframe.param = ax5.util.param(data.iframe.param);\n  }\n\n  return mustache.render(tmpl.modal.call(this), data);\n};\nconst open = function (opts, callback) {\n  let that;\n\n  this.modalConfig = opts;\n  this.$activeModal = jQuery(getContent.call(this, opts.id, opts));\n\n  if (typeof callback === \"undefined\") {\n    callback = opts.callback;\n  }\n\n  // 파트수집\n  this.$ = {\n    \"root\": this.$activeModal,\n    \"header\": this.$activeModal.find('[data-modal-els=\"header\"]'),\n    \"body\": this.$activeModal.find('[data-modal-els=\"body\"]')\n  };\n\n  if (opts.iframe) {\n    this.$[\"iframe-wrap\"] = this.$activeModal.find('[data-modal-els=\"iframe-wrap\"]');\n    this.$[\"iframe\"] = this.$activeModal.find('[data-modal-els=\"iframe\"]');\n    this.$[\"iframe-form\"] = this.$activeModal.find('[data-modal-els=\"iframe-form\"]');\n    this.$[\"iframe-loading\"] = this.$activeModal.find('[data-modal-els=\"iframe-loading\"]');\n  }\n  else {\n    this.$[\"body-frame\"] = this.$activeModal.find('[data-modal-els=\"body-frame\"]');\n  }\n\n  jQuery(document.body).append(this.$activeModal);\n  //- position 정렬\n  this.align();\n\n  that = {\n    self: this,\n    id: opts.id,\n    theme: opts.theme,\n    width: opts.width,\n    height: opts.height,\n    state: \"open\",\n    $: this.$\n  };\n\n  if (opts.iframe) {\n    this.$[\"iframe-wrap\"].css({height: opts.height});\n    this.$[\"iframe\"].css({height: opts.height});\n\n    // iframe content load\n    this.$[\"iframe-form\"].attr({\"method\": opts.iframe.method});\n    this.$[\"iframe-form\"].attr({\"target\": opts.id + \"-frame\"});\n    this.$[\"iframe-form\"].attr({\"action\": opts.iframe.url});\n    this.$[\"iframe\"].on(\"load\", (function () {\n      that.state = \"load\";\n      if (opts.iframeLoadingMsg) {\n        this.$[\"iframe-loading\"].hide();\n      }\n      onStateChanged.call(this, opts, that);\n    }).bind(this));\n    if (!opts.iframeLoadingMsg) {\n      this.$[\"iframe\"].show();\n    }\n    this.$[\"iframe-form\"].submit();\n  }\n\n  if (callback) callback.call(that, that);\n\n  onStateChanged.call(this, opts, that);\n\n  // bind key event\n  if (opts.closeToEsc) {\n    jQuery(window).on(\"keydown.ax-modal\", e => {\n      onkeyup.call(this, e || window.event);\n    });\n  }\n\n  jQuery(window).on(\"resize.ax-modal\", e => {\n    this.align(null, e || window.event);\n  });\n\n  this.$.header\n    .off(ENM[\"mousedown\"])\n    .off(\"dragstart\")\n    .on(ENM[\"mousedown\"], e => {\n      /// 이벤트 필터링 추가 : 버튼엘리먼트로 부터 발생된 이벤트이면 moveModal 시작하지 않도록 필터링\n      let isButton = U.findParentNode(e.currentTarget, function (_target) {\n        if (_target.getAttribute(\"data-modal-header-btn\")) {\n          return true;\n        }\n      });\n\n      if (!opts.isFullScreen && !isButton && opts.disableDrag != true) {\n        this.mousePosition = getMousePosition(e);\n        moveModal.on.call(this);\n      }\n      if (isButton) {\n        btnOnClick.call(this, e || window.event, opts);\n      }\n    })\n    .on(\"dragstart\", e => {\n      U.stopEvent(e.originalEvent);\n      return false;\n    });\n\n  this.$activeModal\n    .off(ENM[\"mousedown\"])\n    .off(\"dragstart\")\n    .on(ENM[\"mousedown\"], \"[data-ax6ui-modal-resizer]\", e => {\n      if (opts.disableDrag || opts.isFullScreen) return false;\n      this.mousePosition = getMousePosition(e);\n      resizeModal.on.call(this, e.currentTarget.getAttribute(\"data-ax6ui-modal-resizer\"));\n    })\n    .on(\"dragstart\", e => {\n      U.stopEvent(e.originalEvent);\n      return false;\n    });\n};\nconst btnOnClick = function (e, opts, callback, target, k) {\n  let that;\n  if (e.srcElement) e.target = e.srcElement;\n\n  target = U.findParentNode(e.target, function (target) {\n    if (target.getAttribute(\"data-modal-header-btn\")) {\n      return true;\n    }\n  });\n\n  if (target) {\n    k = target.getAttribute(\"data-modal-header-btn\");\n\n    that = {\n      self: this,\n      key: k, value: opts.header.btns[k],\n      dialogId: opts.id,\n      btnTarget: target\n    };\n\n    if (opts.header.btns[k].onClick) {\n      opts.header.btns[k].onClick.call(that, that);\n    }\n  }\n\n  that = null;\n  opts = null;\n  callback = null;\n  target = null;\n  k = null;\n};\nconst onkeyup = function (e) {\n  if (e.keyCode == info.eventKeys.ESC) {\n    this.close();\n  }\n};\nconst alignProcessor = {\n  \"top-left\": function () {\n    this.align({left: \"left\", top: \"top\"});\n  },\n  \"top-right\": function () {\n    this.align({left: \"right\", top: \"top\"});\n  },\n  \"bottom-left\": function () {\n    this.align({left: \"left\", top: \"bottom\"});\n  },\n  \"bottom-right\": function () {\n    this.align({left: \"right\", top: \"bottom\"});\n  },\n  \"center-middle\": function () {\n    this.align({left: \"center\", top: \"middle\"});\n  }\n};\nconst moveModal = {\n  \"on\": function () {\n    let modalZIndex = this.$activeModal.css(\"z-index\"),\n      modalOffset = this.$activeModal.position(),\n      modalBox = {\n        width: this.$activeModal.outerWidth(), height: this.$activeModal.outerHeight()\n      },\n      windowBox = {\n        width: jQuery(window).width(),\n        height: jQuery(window).height(),\n        scrollLeft: (this.modalConfig.absolute) ? 0 : jQuery(document).scrollLeft(),\n        scrollTop: (this.modalConfig.absolute) ? 0 : jQuery(document).scrollTop(),\n      },\n      getResizerPosition = function (e) {\n        this.__dx = e.clientX - this.mousePosition.clientX;\n        this.__dy = e.clientY - this.mousePosition.clientY;\n\n        if (minX > modalOffset.left + this.__dx) {\n          this.__dx = -modalOffset.left;\n        }\n        else if (maxX < modalOffset.left + this.__dx) {\n          this.__dx = (maxX) - modalOffset.left;\n        }\n\n        if (minY > modalOffset.top + this.__dy) {\n          this.__dy = -modalOffset.top;\n        }\n        else if (maxY < modalOffset.top + this.__dy) {\n          this.__dy = (maxY) - modalOffset.top;\n        }\n\n        return {\n          left: modalOffset.left + this.__dx + windowBox.scrollLeft,\n          top: modalOffset.top + this.__dy + windowBox.scrollTop\n        };\n      };\n\n    let minX = 0, maxX = windowBox.width - modalBox.width,\n      minY = 0, maxY = windowBox.height - modalBox.height;\n\n    this.__dx = 0; // 변화량 X\n    this.__dy = 0; // 변화량 Y\n\n    // this.$resizerBg : body 가 window보다 작을 때 문제 해결을 위한 DIV\n    this.$resizerBg.css({zIndex: modalZIndex});\n    this.$resizer.css({\n      left: modalOffset.left + windowBox.scrollLeft,\n      top: modalOffset.top + windowBox.scrollTop,\n      width: modalBox.width,\n      height: modalBox.height,\n      zIndex: modalZIndex + 1\n    });\n\n    jQuery(document.body)\n      .append(this.$resizerBg)\n      .append(this.$resizer);\n\n    this.$activeModal.addClass(\"draged\");\n\n    jQuery(document.body)\n      .on(ENM[\"mousemove\"] + \".ax6modal-move-\" + this.instanceId, U.throttle(function (e) {\n        this.$resizer.css(getResizerPosition.call(this, e));\n      }, 30).bind(this))\n      .on(ENM[\"mouseup\"] + \".ax6modal-move-\" + this.instanceId, e => {\n        moveModal.off.call(this);\n      })\n      .on(\"mouseleave.ax6modal-move-\" + this.instanceId, e => {\n        moveModal.off.call(this);\n      });\n\n    jQuery(document.body)\n      .attr('unselectable', 'on')\n      .css('user-select', 'none')\n      .on('selectstart', false);\n  },\n  \"off\": function () {\n    const setModalPosition = function () {\n      let box = this.$resizer.offset();\n      if (!this.modalConfig.absolute) {\n        box.left -= jQuery(document).scrollLeft();\n        box.top -= jQuery(document).scrollTop();\n      }\n      this.$activeModal.css(box);\n      this.modalConfig.left = box.left;\n      this.modalConfig.top = box.top;\n\n      box = null;\n    };\n\n    this.$activeModal.removeClass(\"draged\");\n    setModalPosition.call(this);\n\n    this.$resizer.remove();\n    this.$resizer = null;\n    this.$resizerBg.remove();\n    this.$resizerBg = null;\n\n    jQuery(document.body)\n      .off(ENM[\"mousemove\"] + \".ax6modal-move-\" + this.instanceId)\n      .off(ENM[\"mouseup\"] + \".ax6modal-move-\" + this.instanceId)\n      .off(\"mouseleave.ax6modal-move-\" + this.instanceId);\n\n    jQuery(document.body)\n      .removeAttr('unselectable')\n      .css('user-select', 'auto')\n      .off('selectstart');\n\n    onStateChanged.call(this, this.modalConfig, {\n      self: this,\n      state: \"move\"\n    });\n\n  }\n};\nconst resizeModal = {\n  \"on\": function (resizerType) {\n    let modalZIndex = this.$activeModal.css(\"z-index\"),\n      modalOffset = this.$activeModal.position(),\n      modalBox = {\n        width: this.$activeModal.outerWidth(), height: this.$activeModal.outerHeight()\n      },\n      windowBox = {\n        width: jQuery(window).width(),\n        height: jQuery(window).height(),\n        scrollLeft: (this.modalConfig.absolute) ? 0 : jQuery(document).scrollLeft(),\n        scrollTop: (this.modalConfig.absolute) ? 0 : jQuery(document).scrollTop(),\n      },\n      resizerProcessor = {\n        \"top\": function (e) {\n\n          if (minHeight > modalBox.height - this.__dy) {\n            this.__dy = modalBox.height - (minHeight);\n          }\n\n          if (e.shiftKey) {\n\n            if (minHeight > modalBox.height - (this.__dy * 2)) {\n              this.__dy = (modalBox.height - (minHeight)) / 2;\n            }\n\n            return {\n              left: modalOffset.left,\n              top: modalOffset.top + this.__dy,\n              width: modalBox.width,\n              height: modalBox.height - (this.__dy * 2)\n            };\n          }\n          else if (e.altKey) {\n\n            if (minHeight > modalBox.height - (this.__dy * 2)) {\n              this.__dy = (modalBox.height - (minHeight)) / 2;\n            }\n\n            return {\n              left: modalOffset.left + this.__dy,\n              top: modalOffset.top + this.__dy,\n              width: modalBox.width - (this.__dy * 2),\n              height: modalBox.height - (this.__dy * 2)\n            };\n          }\n          else {\n            return {\n              left: modalOffset.left,\n              top: modalOffset.top + this.__dy,\n              width: modalBox.width,\n              height: modalBox.height - this.__dy,\n            };\n          }\n        },\n        \"bottom\": function (e) {\n\n          if (minHeight > modalBox.height + this.__dy) {\n            this.__dy = -modalBox.height + (minHeight);\n          }\n\n          if (e.shiftKey) {\n\n            if (minHeight > modalBox.height + (this.__dy * 2)) {\n              this.__dy = (-modalBox.height + (minHeight)) / 2;\n            }\n\n            return {\n              left: modalOffset.left,\n              top: modalOffset.top - this.__dy,\n              width: modalBox.width,\n              height: modalBox.height + (this.__dy * 2)\n            };\n          }\n          else if (e.altKey) {\n\n            if (minHeight > modalBox.height + (this.__dy * 2)) {\n              this.__dy = (-modalBox.height + (minHeight)) / 2;\n            }\n\n            return {\n              left: modalOffset.left - this.__dy,\n              top: modalOffset.top - this.__dy,\n              width: modalBox.width + (this.__dy * 2),\n              height: modalBox.height + (this.__dy * 2),\n            };\n          }\n          else {\n            return {\n              left: modalOffset.left,\n              top: modalOffset.top,\n              width: modalBox.width,\n              height: modalBox.height + this.__dy,\n            };\n          }\n        },\n        \"left\": function (e) {\n\n          if (minWidth > modalBox.width - this.__dx) {\n            this.__dx = modalBox.width - (minWidth);\n          }\n\n          if (e.shiftKey) {\n\n            if (minWidth > modalBox.width - (this.__dx * 2)) {\n              this.__dx = (modalBox.width - (minWidth)) / 2;\n            }\n\n            return {\n              left: modalOffset.left + this.__dx,\n              top: modalOffset.top,\n              width: modalBox.width - (this.__dx * 2),\n              height: modalBox.height\n            };\n          }\n          else if (e.altKey) {\n\n            if (minWidth > modalBox.width - (this.__dx * 2)) {\n              this.__dx = (modalBox.width - (minWidth)) / 2;\n            }\n\n            return {\n              left: modalOffset.left + this.__dx,\n              top: modalOffset.top + this.__dx,\n              width: modalBox.width - (this.__dx * 2),\n              height: modalBox.height - (this.__dx * 2),\n            };\n          }\n          else {\n            return {\n              left: modalOffset.left + this.__dx,\n              top: modalOffset.top,\n              width: modalBox.width - this.__dx,\n              height: modalBox.height,\n            };\n          }\n        },\n        \"right\": function (e) {\n\n          if (minWidth > modalBox.width + this.__dx) {\n            this.__dx = -modalBox.width + (minWidth);\n          }\n\n          if (e.shiftKey) {\n\n            if (minWidth > modalBox.width + (this.__dx * 2)) {\n              this.__dx = (-modalBox.width + (minWidth)) / 2;\n            }\n\n            return {\n              left: modalOffset.left - this.__dx,\n              top: modalOffset.top,\n              width: modalBox.width + (this.__dx * 2),\n              height: modalBox.height,\n            };\n          }\n          else if (e.altKey) {\n\n            if (minWidth > modalBox.width + (this.__dx * 2)) {\n              this.__dx = (-modalBox.width + (minWidth)) / 2;\n            }\n\n            return {\n              left: modalOffset.left - this.__dx,\n              top: modalOffset.top - this.__dx,\n              width: modalBox.width + (this.__dx * 2),\n              height: modalBox.height + (this.__dx * 2),\n            };\n          }\n          else {\n            return {\n              left: modalOffset.left,\n              top: modalOffset.top,\n              width: modalBox.width + this.__dx,\n              height: modalBox.height,\n            };\n          }\n        },\n        \"top-left\": function (e) {\n\n          if (minWidth > modalBox.width - this.__dx) {\n            this.__dx = modalBox.width - (minWidth);\n          }\n\n          if (minHeight > modalBox.height - this.__dy) {\n            this.__dy = modalBox.height - (minHeight);\n          }\n\n          if (e.shiftKey || e.altKey) {\n\n            if (minHeight > modalBox.height - (this.__dy * 2)) {\n              this.__dy = (modalBox.height - (minHeight)) / 2;\n            }\n            if (minWidth > modalBox.width - (this.__dx * 2)) {\n              this.__dx = (modalBox.width - (minWidth)) / 2;\n            }\n\n            return {\n              left: modalOffset.left + this.__dx,\n              top: modalOffset.top + this.__dy,\n              width: modalBox.width - (this.__dx * 2),\n              height: modalBox.height - (this.__dy * 2),\n            };\n          }\n          else {\n\n            if (minHeight > modalBox.height - (this.__dy * 2)) {\n              this.__dy = (modalBox.height - (minHeight)) / 2;\n            }\n            if (minWidth > modalBox.width - (this.__dx * 2)) {\n              this.__dx = (modalBox.width - (minWidth)) / 2;\n            }\n\n            return {\n              left: modalOffset.left + this.__dx,\n              top: modalOffset.top + this.__dy,\n              width: modalBox.width - this.__dx,\n              height: modalBox.height - this.__dy,\n            };\n          }\n        },\n        \"top-right\": function (e) {\n\n          if (minWidth > modalBox.width + this.__dx) {\n            this.__dx = -modalBox.width + (minWidth);\n          }\n\n          if (minHeight > modalBox.height - this.__dy) {\n            this.__dy = modalBox.height - (minHeight);\n          }\n\n          if (e.shiftKey || e.altKey) {\n\n            if (minHeight > modalBox.height - (this.__dy * 2)) {\n              this.__dy = (modalBox.height - (minHeight)) / 2;\n            }\n            if (minWidth > modalBox.width + (this.__dx * 2)) {\n              this.__dx = (-modalBox.width + (minWidth)) / 2;\n            }\n\n            return {\n              left: modalOffset.left - this.__dx,\n              top: modalOffset.top + this.__dy,\n              width: modalBox.width + (this.__dx * 2),\n              height: modalBox.height - (this.__dy * 2),\n            };\n          }\n          else {\n            return {\n              left: modalOffset.left,\n              top: modalOffset.top + this.__dy,\n              width: modalBox.width + this.__dx,\n              height: modalBox.height - this.__dy,\n            };\n          }\n        },\n        \"bottom-left\": function (e) {\n\n          if (minWidth > modalBox.width - this.__dx) {\n            this.__dx = modalBox.width - (minWidth);\n          }\n\n          if (minHeight > modalBox.height + this.__dy) {\n            this.__dy = -modalBox.height + (minHeight);\n          }\n\n          if (e.shiftKey || e.altKey) {\n            if (minWidth > modalBox.width - (this.__dx * 2)) {\n              this.__dx = (modalBox.width - (minWidth)) / 2;\n            }\n            if (minHeight > modalBox.height + (this.__dy * 2)) {\n              this.__dy = (-modalBox.height + (minHeight)) / 2;\n            }\n            return {\n              left: modalOffset.left + this.__dx,\n              top: modalOffset.top - this.__dy,\n              width: modalBox.width - (this.__dx * 2),\n              height: modalBox.height + (this.__dy * 2),\n            };\n          }\n          else {\n            return {\n              left: modalOffset.left + this.__dx,\n              top: modalOffset.top,\n              width: modalBox.width - this.__dx,\n              height: modalBox.height + this.__dy,\n            };\n          }\n        },\n        \"bottom-right\": function (e) {\n\n          if (minWidth > modalBox.width + this.__dx) {\n            this.__dx = -modalBox.width + (minWidth);\n          }\n\n          if (minHeight > modalBox.height + this.__dy) {\n            this.__dy = -modalBox.height + (minHeight);\n          }\n\n          if (e.shiftKey || e.altKey) {\n            if (minWidth > modalBox.width + (this.__dx * 2)) {\n              this.__dx = (-modalBox.width + (minWidth)) / 2;\n            }\n            if (minHeight > modalBox.height + (this.__dy * 2)) {\n              this.__dy = (-modalBox.height + (minHeight)) / 2;\n            }\n            return {\n              left: modalOffset.left - this.__dx,\n              top: modalOffset.top - this.__dy,\n              width: modalBox.width + (this.__dx * 2),\n              height: modalBox.height + (this.__dy * 2),\n            };\n          }\n          else {\n            return {\n              left: modalOffset.left,\n              top: modalOffset.top,\n              width: modalBox.width + this.__dx,\n              height: modalBox.height + this.__dy,\n            };\n          }\n        },\n      },\n      getResizerPosition = function (e) {\n        this.__dx = e.clientX - this.mousePosition.clientX;\n        this.__dy = e.clientY - this.mousePosition.clientY;\n\n        return resizerProcessor[resizerType](e);\n      };\n\n    if (!this.modalConfig.absolute) {\n      modalOffset.left += windowBox.scrollLeft;\n      modalOffset.top += windowBox.scrollTop;\n    }\n\n    let minWidth = 100,\n      minHeight = 100;\n\n    let cursorType = {\n      \"top\": \"row-resize\",\n      \"bottom\": \"row-resize\",\n      \"left\": \"col-resize\",\n      \"right\": \"col-resize\",\n      \"top-left\": \"nwse-resize\",\n      \"top-right\": \"nesw-resize\",\n      \"bottom-left\": \"nesw-resize\",\n      \"bottom-right\": \"nwse-resize\",\n    };\n\n    this.__dx = 0; // 변화량 X\n    this.__dy = 0; // 변화량 Y\n\n    // this.$resizerBg : body 가 window보다 작을 때 문제 해결을 위한 DIV\n    this.$resizerBg.css({\n      zIndex: modalZIndex,\n      cursor: cursorType[resizerType]\n    });\n    this.$resizer.css({\n      left: modalOffset.left,\n      top: modalOffset.top,\n      width: modalBox.width,\n      height: modalBox.height,\n      zIndex: modalZIndex + 1,\n      cursor: cursorType[resizerType]\n    });\n\n    jQuery(document.body)\n      .append(this.$resizerBg)\n      .append(this.$resizer);\n\n    this.$activeModal.addClass(\"draged\");\n\n    jQuery(document.body)\n      .on(ENM[\"mousemove\"] + \".ax6modal-resize-\" + this.instanceId, U.throttle(function (e) {\n        this.$resizer.css(getResizerPosition.call(e));\n      }, 30).bind(this))\n      .on(ENM[\"mouseup\"] + \".ax6modal-resize-\" + this.instanceId, e => {\n        resizeModal.off.call(this);\n      })\n      .on(\"mouseleave.ax6modal-resize-\" + this.instanceId, e => {\n        resizeModal.off.call(this);\n      });\n\n    jQuery(document.body)\n      .attr('unselectable', 'on')\n      .css('user-select', 'none')\n      .bind('selectstart', false);\n  },\n  \"off\": function () {\n    let setModalPosition = function () {\n      let box = this.$resizer.offset();\n      jQuery.extend(box, {\n        width: this.$resizer.width(),\n        height: this.$resizer.height(),\n      });\n      if (!this.modalConfig.absolute) {\n        box.left -= jQuery(document).scrollLeft();\n        box.top -= jQuery(document).scrollTop();\n      }\n      this.$activeModal.css(box);\n\n      this.modalConfig.left = box.left;\n      this.modalConfig.top = box.top;\n      this.modalConfig.width = box.width;\n      this.modalConfig.height = box.height;\n      this.$[\"body\"].css({height: box.height - this.modalConfig.headerHeight});\n      if (this.modalConfig.iframe) {\n        this.$[\"iframe-wrap\"].css({height: box.height - this.modalConfig.headerHeight});\n        this.$[\"iframe\"].css({height: box.height - this.modalConfig.headerHeight});\n      }\n\n      box = null;\n    };\n\n    this.$activeModal.removeClass(\"draged\");\n    setModalPosition.call(this);\n\n    this.$resizer.remove();\n    this.$resizerBg.remove();\n\n    onStateChanged.call(this, this.modalConfig, {\n      self: this,\n      state: \"resize\"\n    });\n\n    jQuery(document.body)\n      .off(ENM[\"mousemove\"] + \".ax6modal-resize-\" + this.instanceId)\n      .off(ENM[\"mouseup\"] + \".ax6modal-resize-\" + this.instanceId)\n      .off(\"mouseleave.ax6modal-resize-\" + this.instanceId);\n\n    jQuery(document.body)\n      .removeAttr('unselectable')\n      .css('user-select', 'auto')\n      .off('selectstart');\n\n  }\n};\n\n\n/**\n * @class\n */\nclass AX6UIModal extends AX6UICore {\n  /**\n   * @constructor\n   * @param config\n   */\n  constructor(config) {\n    super();\n\n    /**\n     * @member {JSON}\n     * @param config\n     * @param [config.id='ax6ui-modal-' + this.instanceId]\n     * @param [config.position]\n     * @param [config.position.left='cener']\n     * @param [config.position.top='middle']\n     * @param [config.position.margin=10]\n     * @param [config.minimizePosition='bottom-right']\n     * @param [config.clickEventName]\n     * @param [config.theme]\n     * @param [config.width=300]\n     * @param [config.height=400]\n     * @param [config.closeToEsc]\n     * @param [config.disableDrag]\n     * @param [config.disableResize]\n     * @param [config.animateTime=250]\n     * @param [config.iframe=false]\n     */\n    this.config = {\n      id: 'ax6ui-modal-' + this.instanceId,\n      position: {\n        left: \"center\",\n        top: \"middle\",\n        margin: 10\n      },\n      minimizePosition: \"bottom-right\",\n      clickEventName: (('ontouchstart' in document.documentElement) ? \"touchstart\" : \"click\"),\n      theme: 'default',\n      width: 300,\n      height: 400,\n      closeToEsc: true,\n      disableDrag: false,\n      disableResize: false,\n      animateTime: 250,\n      iframe: false\n    };\n    jQuery.extend(true, this.config, config);\n\n    // 멤버 변수 초기화\n    /**\n     * 열려있는 상태에서 다시 open이 되면 queue에 보관 하였다가 close후 open\n     * @member {Array}\n     */\n    this.queue = [];\n    /**\n     * @member {jQueryElement}\n     */\n    this.$activeModal = null;\n    this.$ = {};\n\n    this.$resizerBg = jQuery('<div data-ax6ui-modal-resizer-background=\"\" ondragstart=\"return false;\"></div>');\n    this.$resizer = jQuery('<div data-ax6ui-modal-resizer=\"\" ondragstart=\"return false;\"></div>');\n\n    if (typeof config !== \"undefined\") this.init();\n  }\n\n  /**\n   * @method\n   */\n  init() {\n    this.onStateChanged = this.config.onStateChanged;\n    delete this.config.onStateChanged;\n\n    // init 호출 여부\n    this.initOnce();\n  }\n\n  /**\n   * @method\n   */\n  initOnce() {\n    if (this.initialized) return this;\n    this.initialized = true;\n  }\n\n\n  /**\n   * open the modal\n   * @method\n   * @returns {AX6UIModal}\n   * @example\n   * ```\n   * modal.open();\n   * modal.open({\n             *  width: 500,\n             *  height: 500\n             * });\n   * moaal.open({}, function(){\n             *  console.log(this);\n             * });\n   * ```\n   */\n  open(opts, callback) {\n    if (typeof opts === \"undefined\") {\n      opts = {}\n    }\n\n    opts = jQuery.extend(true, {}, this.config, opts);\n\n    if (this.$activeModal) {\n      opts.callback = callback;\n      this.queue.push(opts);\n    } else {\n      open.call(this, opts, callback);\n    }\n\n    return this;\n  }\n\n  /**\n   * close the modal\n   * @method\n   * @param _option\n   * @returns {AX6UIModal}\n   * @example\n   * ```\n   * modal.close();\n   * modal.close({callback: function(){\n     *  // on close event\n     * });\n     * // close 함수에 callback을 전달하면 정확한 close 타이밍을 캐치할 수 있습니다\n     * ```\n     */\n  close(_option) {\n    let opts, that;\n\n    if (this.$activeModal) {\n      opts = this.modalConfig;\n\n      this.$activeModal.addClass(\"destroy\");\n      jQuery(window)\n        .off(\"keydown.ax-modal\")\n        .off(\"resize.ax-modal\");\n\n      setTimeout((function () {\n        // 프레임 제거\n        if (opts.iframe) {\n          let $iframe = this.$[\"iframe\"]; // iframe jQuery Object\n          if ($iframe) {\n            let iframeObject = $iframe.get(0),\n              idoc = (iframeObject.contentDocument) ? iframeObject.contentDocument : iframeObject.contentWindow.document;\n\n            try {\n              $(idoc.body).children().each(function () {\n                $(this).remove();\n              });\n            }\n            catch (e) {\n\n            }\n            idoc.innerHTML = \"\";\n            $iframe\n              .attr('src', 'about:blank')\n              .remove();\n\n            // force garbarge collection for IE only\n            window.CollectGarbage && window.CollectGarbage();\n          }\n        }\n\n        if (this.$activeModal) {\n          this.$activeModal.remove();\n          this.$activeModal = null;\n        }\n\n        that = {\n          self: this,\n          id: opts.id,\n          theme: opts.theme,\n          width: opts.width,\n          height: opts.height,\n          state: \"close\",\n          $: this.$\n        };\n\n        if (_option && U.isFunction(_option.callback)) {\n          _option.callback.call(that, that);\n        } else if (opts.callback && (!_option || !_option.doNotCallback)) {\n          opts.callback.call(that, that);\n        }\n\n        if (opts && opts.onStateChanged) {\n          opts.onStateChanged.call(that, that);\n        }\n        else if (this.onStateChanged) {\n          this.onStateChanged.call(that, that);\n        }\n\n        // 열려야 할 큐가 남아 있다면 큐아이템으로 다시 open\n        if (this.queue && this.queue.length) {\n          open.call(this, this.queue.shift());\n        }\n\n        opts = null;\n        that = null;\n      }).bind(this), this.config.animateTime);\n    }\n\n    this.minimized = false; // hoksi\n\n    return this;\n  };\n\n  /**\n   * @method\n   * @returns {AX6UIModal}\n   */\n  minimize(minimizePosition) {\n    if (this.minimized !== true) {\n\n      let opts = this.modalConfig;\n      if (typeof minimizePosition === \"undefined\") minimizePosition = cfg.minimizePosition;\n\n      this.minimized = true;\n      this.$.body.css({display: \"none\"});\n      this.modalConfig.originalHeight = opts.height;\n      this.modalConfig.height = 0;\n      alignProcessor[minimizePosition].call(this);\n\n      onStateChanged.call(this, opts, {\n        self: this,\n        state: \"minimize\"\n      });\n    }\n\n    return this;\n  };\n\n  /**\n   * @method ax5modal.restore\n   * @returns {AX6UIModal}\n   */\n  restore() {\n    let opts = this.modalConfig;\n    if (this.minimized) {\n      this.minimized = false;\n      this.$.body.css({display: \"block\"});\n      this.modalConfig.height = this.modalConfig.originalHeight;\n      this.modalConfig.originalHeight = undefined;\n\n      this.align({left: \"center\", top: \"middle\"});\n      onStateChanged.call(this, opts, {\n        self: this,\n        state: \"restore\"\n      });\n    }\n    return this;\n  };\n\n  /**\n   * setCSS\n   * @method ax5modal.css\n   * @param {Object} css -\n   * @returns {AX6UIModal}\n   */\n  css(css) {\n    if (this.$activeModal && !this.fullScreen) {\n      this.$activeModal.css(css);\n      if (typeof css.width !== \"undefined\") {\n        this.modalConfig.width = css.width;\n      }\n      if (typeof css.height !== \"undefined\") {\n        this.modalConfig.height = css.height;\n      }\n\n      this.align();\n    }\n    return this;\n  };\n\n  /**\n   * @method\n   * @param _config\n   * @returns {AX6UIModal}\n   */\n  setModalConfig(_config) {\n    this.modalConfig = jQuery.extend({}, this.modalConfig, _config);\n    this.align();\n    return this;\n  };\n\n  /**\n   * @method ax5modal.align\n   * @param position\n   * @param e\n   * @returns {ax5modal}\n   * @example\n   * ```js\n   * modal.align({left:\"center\", top:\"middle\"});\n   * modal.align({left:\"left\", top:\"top\", margin: 20});\n   * ```\n   */\n  align(position, e) {\n    if (!this.$activeModal) return this;\n\n    let opts = this.modalConfig,\n      box = {\n        width: opts.width,\n        height: opts.height\n      };\n\n    const fullScreen = opts.isFullScreen = (function (_fullScreen) {\n      if (typeof _fullScreen === \"undefined\") {\n        return false;\n      } else if (U.isFunction(_fullScreen)) {\n        return _fullScreen();\n      }\n    })(opts.fullScreen);\n\n    if (fullScreen) {\n      if (opts.header) this.$.header.show();\n      if (opts.header) {\n        opts.headerHeight = this.$.header.outerHeight();\n        box.height += opts.headerHeight;\n      } else {\n        opts.headerHeight = 0;\n      }\n      box.width = jQuery(window).width();\n      box.height = opts.height;\n      box.left = 0;\n      box.top = 0;\n    }\n    else {\n      if (opts.header) this.$.header.show();\n      if (position) {\n        jQuery.extend(true, opts.position, position);\n      }\n\n      if (opts.header) {\n        opts.headerHeight = this.$.header.outerHeight();\n        box.height += opts.headerHeight;\n      } else {\n        opts.headerHeight = 0;\n      }\n\n      //- position 정렬\n      if (opts.position.left == \"left\") {\n        box.left = (opts.position.margin || 0);\n      }\n      else if (opts.position.left == \"right\") {\n        // window.innerWidth;\n        box.left = jQuery(window).width() - box.width - (opts.position.margin || 0);\n      }\n      else if (opts.position.left == \"center\") {\n        box.left = jQuery(window).width() / 2 - box.width / 2;\n      }\n      else {\n        box.left = opts.position.left || 0;\n      }\n\n      if (opts.position.top == \"top\") {\n        box.top = (opts.position.margin || 0);\n      }\n      else if (opts.position.top == \"bottom\") {\n        box.top = jQuery(window).height() - box.height - (opts.position.margin || 0);\n      }\n      else if (opts.position.top == \"middle\") {\n        box.top = jQuery(window).height() / 2 - box.height / 2;\n      }\n      else {\n        box.top = opts.position.top || 0;\n      }\n      if (box.left < 0) box.left = 0;\n      if (box.top < 0) box.top = 0;\n    }\n\n    this.$activeModal.css(box);\n    this.$[\"body\"].css({height: box.height - (opts.headerHeight || 0)});\n\n    if (opts.iframe) {\n      this.$[\"iframe-wrap\"].css({height: box.height - opts.headerHeight});\n      this.$[\"iframe\"].css({height: box.height - opts.headerHeight});\n    } else {\n\n    }\n    return this;\n  }\n\n}\n\nexport default AX6UIModal;"]}