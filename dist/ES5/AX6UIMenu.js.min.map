{"version":3,"sources":["AX6UIMenu.js"],"names":["_jqmin","require","_AX6UICore2","_AX6Info","_AX6Util","_AX6Mustache","tmpl","menu","columnKeys","items","label","menubar","that","appEventAttach","call","opt","active","_jqmin2","default","document","body","off","this","instanceId","on","clickItem","bind","popup","window","self","cfg","e","which","_AX6Info2","eventKeys","ESC","$activeMenu","theme","close","forEach","html","n","divide","data","item","config","onStateChanged","state","opts","path","onLoad","removed","splice","depth","$target","setValue","icons","extend","iconWidth","acceleratorWidth","$this","offset","scrollTop","childOpt","_items","_activeMenu","length","render","append","width","height","remove","queue","push","index","getAttribute","find","removeClass","addClass","attr","position","left","top","outerHeight","outerWidth","menuBodyPadding","Number","align","element","target","direction","parent","Function","console","substring","replace","get","itemClickAndClose","_AX6Util2","findParentNode","log","getError","check","checkbox","value","checked","radio","name","$window","type","each","onClick","param","$document","wh","ww","h","w","l","t","css","AX6UIMenu","_classCallCheck","_this","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","animateTime","openTimer","closeTimer","menuBar","undefined","init","getOption","clientX","initOnce","initialized","clientY","pageY","updateTheme","object","filteringItem","filter","arr","popupEventAttachTimer","concat","clearTimeout","setTimeout","el","eType","openedIndex","opened","clickParentMenu","popUpChildMenu","_AX6Mustache2","collectItem","checkItems","i","isString"],"mappings":"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","file":"AX6UIMenu.js","sourcesContent":["import jQuery from \"jqmin\";\nimport AX6UICore from \"./AX6UICore.js\";\nimport info from \"./AX6Info\";\nimport U from \"./AX6Util\";\nimport mustache from \"./AX6Mustache\";\nimport \"./AX6UIMenu/index.scss\";\n\nlet tmpl = {\n    menu(columnKeys) {\n        return `\n        <div data-ax6ui-menu=\"\" class=\"{{theme}}\" {{#width}}style=\"width:{{width}}px;\"{{/width}}>\n            <div class=\"ax-menu-body\">\n                {{#${columnKeys.items}}}\n                    {{^@isMenu}}\n                        {{#divide}}\n                        <div class=\"ax-menu-item-divide\" data-menu-item-index=\"{{@i}}\"></div>\n                        {{/divide}}\n                        {{#html}}\n                        <div class=\"ax-menu-item-html\" data-menu-item-index=\"{{@i}}\">{{{@html}}}</div>\n                        {{/html}}\n                    {{/@isMenu}}\n                    {{#@isMenu}}\n                    <div class=\"ax-menu-item\" data-menu-item-depth=\"{{@depth}}\" data-menu-item-index=\"{{@i}}\" data-menu-item-path=\"{{@path}}.{{@i}}\">\n                        <span class=\"ax-menu-item-cell ax-menu-item-checkbox\">\n                            {{#check}}\n                            <span class=\"item-checkbox-wrap useCheckBox\" {{#checked}}data-item-checked=\"true\"{{/checked}}></span>\n                            {{/check}}\n                            {{^check}}\n                            <span class=\"item-checkbox-wrap\"></span>\n                            {{/check}}\n                        </span>\n                        {{#icon}}\n                        <span class=\"ax-menu-item-cell ax-menu-item-icon\" style=\"width:{{cfg.iconWidth}}px;\">{{{.}}}</span>\n                        {{/icon}}\n                        <span class=\"ax-menu-item-cell ax-menu-item-label\">{{{${columnKeys.label}}}}</span>\n                        {{#accelerator}}\n                        <span class=\"ax-menu-item-cell ax-menu-item-accelerator\" style=\"width:{{cfg.acceleratorWidth}}px;\"><span class=\"item-wrap\">{{.}}</span></span>\n                        {{/accelerator}}\n                        {{#@hasChild}}\n                        <span class=\"ax-menu-item-cell ax-menu-item-handle\">{{{cfg.icons.arrow}}}</span>\n                        {{/@hasChild}}\n                    </div>\n                    {{/@isMenu}}\n\n                {{/${columnKeys.items}}}\n            </div>\n            <div class=\"ax-menu-arrow\"></div>\n        </div>\n        `;\n    },\n    menubar(columnKeys) {\n        return `\n        <div data-ax6ui-menubar=\"\" class=\"{{theme}}\">\n            <div class=\"ax-menu-body\">\n                {{#${columnKeys.items}}}\n                    {{^@isMenu}}\n                        {{#divide}}\n                        <div class=\"ax-menu-item-divide\" data-menu-item-index=\"{{@i}}\"></div>\n                        {{/divide}}\n                        {{#html}}\n                        <div class=\"ax-menu-item-html\" data-menu-item-index=\"{{@i}}\">{{{@html}}}</div>\n                        {{/html}}\n                    {{/@isMenu}}\n                    {{#@isMenu}}\n                    <div class=\"ax-menu-item\" data-menu-item-index=\"{{@i}}\">\n                        {{#icon}}\n                        <span class=\"ax-menu-item-cell ax-menu-item-icon\" style=\"width:{{cfg.iconWidth}}px;\">{{{.}}}</span>\n                        {{/icon}}\n                        <span class=\"ax-menu-item-cell ax-menu-item-label\">{{{${columnKeys.label}}}}</span>\n                    </div>\n                    {{/@isMenu}}\n                {{/${columnKeys.items}}}\n            </div>\n        </div>\n        `;\n    }\n};\n\nconst appEventAttach = function (active, opt) {\n    if (active) {\n        jQuery(document.body)\n            .off(\"click.ax5menu-\" + this.instanceId)\n            .on(\"click.ax5menu-\" + this.instanceId, clickItem.bind(this, opt));\n\n        jQuery(window)\n            .off(\"keydown.ax5menu-\" + this.instanceId)\n            .on(\"keydown.ax5menu-\" + this.instanceId, function (e) {\n                if (e.which == info.eventKeys.ESC) {\n                    self.close();\n                }\n            })\n            .off(\"resize.ax5menu-\" + this.instanceId)\n            .on(\"resize.ax5menu-\" + this.instanceId, function (e) {\n                self.close();\n            });\n    }\n    else {\n        jQuery(document.body).off(\"click.ax5menu-\" + this.instanceId);\n        jQuery(window).off(\"keydown.ax5menu-\" + this.instanceId);\n        jQuery(window).off(\"resize.ax5menu-\" + this.instanceId);\n    }\n};\nconst onStateChanged = function (opts, that) {\n    if (opts && opts.onStateChanged) {\n        opts.onStateChanged.call(that, that);\n    }\n    else if (this.onStateChanged) {\n        this.onStateChanged.call(that, that);\n    }\n\n    this.state = that.state;\n    opts = null;\n    that = null;\n    return true;\n};\nconst onLoad = function (that) {\n    if (this.onLoad) {\n        this.onLoad.call(that, that);\n    }\n\n    that = null;\n    return true;\n};\nconst popup = function (opt, items, depth, path) {\n    let self = this, cfg = this.config;\n    let data = opt,\n        $activeMenu,\n        removed;\n\n    data.theme = opt.theme || cfg.theme;\n    data.cfg = {\n        icons: jQuery.extend({}, cfg.icons),\n        iconWidth: opt.iconWidth || cfg.iconWidth,\n        acceleratorWidth: opt.acceleratorWidth || cfg.acceleratorWidth\n    };\n\n    items.forEach(n => {\n        if (n.html || n.divide) {\n            n['@isMenu'] = false;\n            if (n.html) {\n                n['@html'] = n.html.call({\n                    item: n,\n                    config: cfg,\n                    opt: opt\n                });\n            }\n        }\n        else {\n            n['@isMenu'] = true;\n        }\n    });\n\n    data[cfg.columnKeys.items] = items;\n    data['@depth'] = depth;\n    data['@path'] = path || \"root\";\n    data['@hasChild'] = function () {\n        return this[cfg.columnKeys.items] && this[cfg.columnKeys.items].length > 0;\n    };\n    $activeMenu = jQuery(mustache.render(tmpl.menu.call(this, cfg.columnKeys), data));\n    jQuery(document.body).append($activeMenu);\n\n    // remove queue\n    removed = this.queue.splice(depth);\n    removed.forEach(n => {\n        n.$target.remove();\n    });\n\n    this.queue.push({\n        '$target': $activeMenu,\n        'data': jQuery.extend({}, data)\n    });\n\n    $activeMenu.on('mouseover', '[data-menu-item-index]', function () {\n        let depth = this.getAttribute(\"data-menu-item-depth\"),\n            index = this.getAttribute(\"data-menu-item-index\"),\n            path = this.getAttribute(\"data-menu-item-path\"),\n            $this,\n            offset,\n            scrollTop,\n            childOpt,\n            _items,\n            _activeMenu;\n\n        if (depth != null && typeof depth != \"undefined\") {\n            _items = self.queue[depth].data[cfg.columnKeys.items][index][cfg.columnKeys.items];\n            _activeMenu = self.queue[depth].$target;\n            _activeMenu.find('[data-menu-item-index]').removeClass(\"hover\");\n            jQuery(this).addClass(\"hover\");\n\n            if (_activeMenu.attr(\"data-selected-menu-item-index\") != index) {\n                _activeMenu.attr(\"data-selected-menu-item-index\", index);\n\n                if (_items && _items.length > 0) {\n\n                    $this = jQuery(this);\n                    offset = $this.offset();\n                    scrollTop = (cfg.position == \"fixed\" ? jQuery(document).scrollTop() : 0);\n                    childOpt = {\n                        '@parent': {\n                            left: offset.left,\n                            top: offset.top,\n                            width: $this.outerWidth(),\n                            height: $this.outerHeight()\n                        },\n                        left: offset.left + $this.outerWidth() - cfg.menuBodyPadding,\n                        top: offset.top - cfg.menuBodyPadding - 1 - scrollTop\n                    };\n\n                    childOpt = jQuery.extend(true, opt, childOpt);\n                    popup.call(self, childOpt, _items, (Number(depth) + 1), path);\n                }\n                else {\n                    self.queue.splice(Number(depth) + 1).forEach(function (n) {\n                        n.$target.remove();\n                    });\n                }\n            }\n        }\n\n        depth = null;\n        index = null;\n        path = null;\n        $this = null;\n        offset = null;\n        scrollTop = null;\n        childOpt = null;\n        _items = null;\n        _activeMenu = null;\n    });\n\n    // mouse out\n    $activeMenu.on('mouseout', '[data-menu-item-index]', function () {\n        let depth = this.getAttribute(\"data-menu-item-depth\"),\n            index = this.getAttribute(\"data-menu-item-index\"),\n            path = this.getAttribute(\"data-menu-item-path\"),\n            _items;\n\n        if (path) {\n            _items = self.queue[depth].data[cfg.columnKeys.items][index][cfg.columnKeys.items];\n        }\n        if (_items && _items.length > 0) {\n\n        } else {\n            jQuery(this).removeClass(\"hover\");\n        }\n    });\n\n    // is Root\n    if (depth == 0) {\n        if (data.direction) $activeMenu.addClass(\"direction-\" + data.direction);\n        onStateChanged.call(this, null, {\n            self: this,\n            items: items,\n            parent: (function (path) {\n                if (!path) return false;\n                try {\n                    return (Function(\"\", \"return this.config.items[\" + path.substring(5).replace(/\\./g, '].items[') + \"];\")).call(self);\n                }\n                catch (e) {\n\n                }\n            })(data['@path']),\n            state: \"popup\"\n        });\n    }\n\n    align.call(this, $activeMenu, data);\n    onLoad.call(this, {\n        self: this,\n        items: items,\n        element: $activeMenu.get(0)\n    });\n\n    data = null;\n    $activeMenu = null;\n    removed = null;\n    opt = null;\n    items = null;\n    depth = null;\n    path = null;\n\n    return this;\n};\nconst clickItem = function (opt, e) {\n    let self = this, cfg = this.config;\n    let target, item;\n\n    target = U.findParentNode(e.target, function (target) {\n        if (target.getAttribute(\"data-menu-item-index\")) {\n            return true;\n        }\n    });\n    if (target) {\n        if (typeof opt === \"undefined\") opt = {};\n        item = (function (path) {\n            if (!path) return false;\n            try {\n                return (Function(\"\", \"return this[\" + path.substring(5).replace(/\\./g, '].' + cfg.columnKeys.items + '[') + \"];\")).call(opt.items || cfg.items);\n            }\n            catch (e) {\n                console.log(info.getError(\"ax5menu\", \"501\", \"menuItemClick\"));\n            }\n            finally {\n                item = null;\n            }\n        })(target.getAttribute(\"data-menu-item-path\"));\n\n        if (!item) return this;\n\n        if (item.check) {\n            (function (items) {\n                let setValue = {\n                    'checkbox': function (value) {\n                        this.checked = !value;\n                    },\n                    'radio': function (value) {\n                        var name = this.name;\n                        items.forEach(function (n) {\n                            if (n.check && n.check.type === 'radio' && n.check.name == name) {\n                                n.check.checked = false;\n                            }\n                        });\n                        this.checked = !value;\n                    }\n                };\n                if (setValue[this.type]) setValue[this.type].call(this, this.checked);\n                setValue = null;\n            }).call(item.check, cfg.items);\n\n            if (!cfg.itemClickAndClose) {\n                self.queue.forEach(n => {\n                    n.$target.find('[data-menu-item-index]').each(function () {\n                        let item = n.data[cfg.columnKeys.items][this.getAttribute(\"data-menu-item-index\")];\n                        if (item.check) {\n                            jQuery(this).find(\".item-checkbox-wrap\").attr(\"data-item-checked\", item.check.checked);\n                        }\n                        item = null;\n                    });\n                });\n            }\n        }\n\n        if (self.onClick) {\n            if (self.onClick.call(item, item, opt.param)) {\n                self.close();\n            }\n        }\n        if ((!item[cfg.columnKeys.items] || item[cfg.columnKeys.items].length == 0) && cfg.itemClickAndClose) self.close();\n    }\n    else {\n        self.close();\n    }\n\n    target = null;\n    item = null;\n    return this;\n};\nconst align = function ($activeMenu, data) {\n    let self = this, cfg = this.config;\n    let $window = jQuery(window),\n        $document = jQuery(document),\n        wh = (cfg.position == \"fixed\") ? $window.height() : $document.height(),\n        ww = $window.width(),\n        h = $activeMenu.outerHeight(),\n        w = $activeMenu.outerWidth(),\n        l = data.left,\n        t = data.top,\n        position = cfg.position || \"fixed\";\n\n    if (l + w > ww) {\n        if (data['@parent']) {\n            l = data['@parent'].left - w + cfg.menuBodyPadding;\n        }\n        else {\n            l = ww - w;\n        }\n    }\n\n    if (t + h > wh) {\n        t = wh - h;\n    }\n\n    $activeMenu.css({left: l, top: t, position: position});\n\n    $activeMenu = null;\n    data = null;\n    $window = null;\n    $document = null;\n    wh = null;\n    ww = null;\n    h = null;\n    w = null;\n    l = null;\n    t = null;\n    position = null;\n    return this;\n};\n\n/**\n * @class\n */\nclass AX6UIMenu extends AX6UICore {\n    /**\n     * @constructor\n     * @param config\n     */\n    constructor(config) {\n        super();\n\n        /**\n         * @member {JSON}\n         * @param config\n         * @param [config.theme]\n         * @param [config.iconWidth=22]\n         * @param [config.acceleratorWidth=100]\n         * @param [config.menuBodyPadding=5]\n         * @param [config.offset]\n         * @param [config.offset.left=0]\n         * @param [config.offset.top=0]\n         * @param [config.position=\"fixed\"]\n         * @param [config.animateTime=250]\n         * @param [config.items]\n         * @param [config.itemClickAndClose=true]\n         * @param [config.columnKeys]\n         * @param [config.columnKeys.label='label']\n         * @param [config.columnKeys.items='items']\n         * @param [config.onStateChanged]\n         * @param [config.onClick]\n         * @param [config.onLoad]\n         *\n         */\n        this.config = {\n            theme: \"default\",\n            iconWidth: 22,\n            acceleratorWidth: 100,\n            menuBodyPadding: 5,\n            offset: {left: 0, top: 0},\n            position: \"fixed\",\n            animateTime: 250,\n            items: [],\n            itemClickAndClose: true,\n            columnKeys: {\n                label: 'label',\n                items: 'items'\n            }\n        };\n        jQuery.extend(true, this.config, config);\n\n        // 멤버 변수 초기화\n        /**\n         * @member\n         */\n        this.openTimer = null;\n        /**\n         * @member\n         */\n        this.closeTimer = null;\n        /**\n         * @member {Array}\n         */\n        this.queue = [];\n        /**\n         * @member {Object}\n         */\n        this.menuBar = {};\n        /**\n         * @member\n         */\n        this.state = undefined;\n\n        if (typeof config !== \"undefined\") this.init();\n    }\n\n    /**\n     * @method\n     */\n    init() {\n        this.onStateChanged = this.config.onStateChanged;\n        delete this.config.onStateChanged;\n        this.onClick = this.config.onClick;\n        delete this.config.onClick;\n        this.onLoad = this.config.onLoad;\n        delete this.config.onLoad;\n\n        onStateChanged.call(this, null, {\n            self: this,\n            state: \"init\"\n        });\n        // init 호출 여부\n        this.initOnce();\n    }\n\n    /**\n     * @method\n     */\n    initOnce() {\n        if (this.initialized) return this;\n        this.initialized = true;\n    }\n\n    /**\n     * @method\n     * @param {Event|Object} e - Event or Object\n     * @param {Object} [opt]\n     * @param {String} [opt.theme]\n     * @param {Function} [opt.filter]\n     * @returns {AX6UIMenu}\n     */\n    popup(e, opt) {\n        let self = this, cfg = this.config;\n        const getOption = {\n                'event': function (e, opt) {\n                    e = {\n                        left: e.clientX,\n                        top: (cfg.position == \"fixed\") ? e.clientY : e.pageY,\n                        width: cfg.width,\n                        theme: cfg.theme\n                    };\n\n                    e.left -= 5;\n                    e.top -= 5;\n\n                    if (cfg.offset) {\n                        if (cfg.offset.left) e.left += cfg.offset.left;\n                        if (cfg.offset.top) e.top += cfg.offset.top;\n                    }\n                    opt = jQuery.extend(true, e, opt);\n\n                    try {\n                        return opt;\n                    }\n                    finally {\n                        e = null;\n                        //opt = null;\n                    }\n                },\n                'object': function (e, opt) {\n                    e = {\n                        left: e.left,\n                        top: e.top,\n                        width: e.width || cfg.width,\n                        theme: e.theme || cfg.theme\n                    };\n\n                    if (cfg.offset) {\n                        if (cfg.offset.left) e.left += cfg.offset.left;\n                        if (cfg.offset.top) e.top += cfg.offset.top;\n                    }\n\n                    opt = jQuery.extend(true, e, opt);\n\n                    try {\n                        return opt;\n                    }\n                    finally {\n                        e = null;\n                        //opt = null;\n                    }\n                }\n            },\n            updateTheme = function (theme) {\n                if (theme) cfg.theme = theme;\n            };\n\n        if (!e) return this;\n        opt = getOption[((typeof e.clientX == \"undefined\") ? \"object\" : \"event\")].call(this, e, opt);\n        updateTheme(opt.theme);\n\n        let items = [].concat(cfg.items),\n            filteringItem;\n        opt.items = items;\n\n        if (opt.filter) {\n            filteringItem = function (_items) {\n                let arr = [];\n                _items.forEach(n => {\n                    if (n.items && n.items.length > 0) {\n                        n.items = filteringItem(n.items);\n                    }\n                    if (opt.filter.call(n)) {\n                        arr.push(n);\n                    }\n                });\n                return arr;\n            };\n            opt.items = items = filteringItem(items);\n        }\n\n        if (items.length) {\n            appEventAttach.call(this, false);\n            popup.call(this, opt, items, 0); // 0 is seq of queue\n\n            if (this.popupEventAttachTimer) clearTimeout(this.popupEventAttachTimer);\n            this.popupEventAttachTimer = setTimeout((function () {\n                appEventAttach.call(this, true, opt); // 이벤트 연결\n            }).bind(this), 500);\n        }\n\n        e = null;\n        return this;\n    }\n\n    /**\n     * @method\n     * @param {Element|jQueryObject} el\n     * @returns {AX6UIMenu}\n     */\n    attach(el, opt) {\n        let self = this, cfg = this.config;\n        const getOption = {\n            'object': function (e, opt) {\n                e = {\n                    left: e.left,\n                    top: e.top,\n                    width: e.width || cfg.width,\n                    theme: e.theme || cfg.theme,\n                    direction: e.direction || cfg.direction\n                };\n                opt = jQuery.extend(true, opt, e);\n\n                try {\n                    return opt;\n                }\n                finally {\n                    e = null;\n                    opt = null;\n                }\n            }\n        };\n\n        const popUpChildMenu = function (target, opt, eType) {\n            let $target = jQuery(target),\n                offset = $target.offset(),\n                height = $target.outerHeight(),\n                index = Number(target.getAttribute(\"data-menu-item-index\")),\n                scrollTop = (cfg.position == \"fixed\") ? jQuery(document).scrollTop() : 0;\n\n            if (cfg.items && cfg.items[index][cfg.columnKeys.items] && cfg.items[index][cfg.columnKeys.items].length) {\n\n                if (self.menuBar.openedIndex == index) {\n                    if (eType == \"click\") self.close();\n                    return false;\n                }\n\n                self.menuBar.target.find('[data-menu-item-index]').removeClass(\"hover\");\n                self.menuBar.opened = true;\n                self.menuBar.openedIndex = index;\n\n                $target.attr(\"data-menu-item-opened\", \"true\");\n                $target.addClass(\"hover\");\n\n                if (cfg.offset) {\n                    if (cfg.offset.left) offset.left += cfg.offset.left;\n                    if (cfg.offset.top) offset.top += cfg.offset.top;\n                }\n\n                opt = getOption[\"object\"].call(this, {left: offset.left, top: offset.top + height - scrollTop}, opt);\n\n                popup.call(self, opt, cfg.items[index][cfg.columnKeys.items], 0, 'root.' + target.getAttribute(\"data-menu-item-index\")); // 0 is seq of queue\n                appEventAttach.call(self, true, {}); // 이벤트 연결\n            }\n\n            target = null;\n            opt = null;\n            $target = null;\n            offset = null;\n            height = null;\n            index = null;\n            scrollTop = null;\n        };\n        const clickParentMenu = function (target, opt, eType) {\n            let $target = jQuery(target),\n                offset = $target.offset(),\n                height = $target.outerHeight(),\n                index = Number(target.getAttribute(\"data-menu-item-index\")),\n                scrollTop = (cfg.position == \"fixed\") ? jQuery(document).scrollTop() : 0;\n            if (cfg.items && (!cfg.items[index][cfg.columnKeys.items] || cfg.items[index][cfg.columnKeys.items].length == 0)) {\n                if (self.onClick) {\n                    self.onClick.call(cfg.items[index], cfg.items[index]);\n                }\n            }\n        };\n\n        let data = {},\n            items = cfg.items,\n            $activeMenu;\n\n        if (typeof opt === \"undefined\") opt = {};\n\n        data.theme = opt.theme || cfg.theme;\n        data.cfg = {\n            icons: jQuery.extend({}, cfg.icons),\n            iconWidth: opt.iconWidth || cfg.iconWidth,\n            acceleratorWidth: opt.acceleratorWidth || cfg.acceleratorWidth\n        };\n\n        items.forEach(n => {\n            if (n.html || n.divide) {\n                n['@isMenu'] = false;\n                if (n.html) {\n                    n['@html'] = n.html.call({\n                        item: n,\n                        config: cfg,\n                        opt: opt\n                    });\n                }\n            }\n            else {\n                n['@isMenu'] = true;\n            }\n        });\n\n        data[cfg.columnKeys.items] = items;\n\n        $activeMenu = jQuery(mustache.render(tmpl.menubar.call(this, cfg.columnKeys), data));\n\n        self.menuBar = {\n            target: jQuery(el),\n            opened: false\n        };\n        self.menuBar.target.html($activeMenu);\n\n        // click, mouseover\n        self.menuBar.target.on(\"click\", function (e) {\n            if (!e) return this;\n            let target = U.findParentNode(e.target, function (target) {\n                if (target.getAttribute(\"data-menu-item-index\")) {\n                    return true;\n                }\n            });\n            if (target) {\n                clickParentMenu(target, opt, \"click\");\n                popUpChildMenu(target, opt, \"click\");\n            }\n\n            target = null;\n        });\n        self.menuBar.target.on(\"mouseover\", function (e) {\n            if (!self.menuBar.opened) return false;\n            let target = U.findParentNode(e.target, function (target) {\n                if (target.getAttribute(\"data-menu-item-index\")) {\n                    return true;\n                }\n            });\n            if (target) popUpChildMenu(target, opt, \"mouseover\");\n\n            target = null;\n        });\n\n        el = null;\n        opt = null;\n        data = null;\n        items = null;\n        $activeMenu = null;\n\n        return this;\n    }\n\n    /**\n     * @method\n     * @returns {AX6UIMenu}\n     */\n    close() {\n        let self = this, cfg = this.config;\n        if (self.menuBar && self.menuBar.target) {\n            self.menuBar.target.find('[data-menu-item-index]').removeClass(\"hover\");\n            self.menuBar.opened = false;\n            self.menuBar.openedIndex = null;\n        }\n\n        appEventAttach.call(this, false); // 이벤트 제거\n\n        this.queue.forEach(n => {\n            n.$target.remove();\n        });\n        this.queue = [];\n\n        onStateChanged.call(this, null, {\n            self: this,\n            state: \"close\"\n        });\n\n        return this;\n    };\n\n    /**\n     * @method\n     * @returns {Object} statusCheckItem\n     */\n    getCheckValue() {\n\n        let checkItems = {};\n        const collectItem = function (items) {\n                let i = items.length;\n                while (i--) {\n                    if (items[i].check && items[i].check.checked) {\n                        if (!checkItems[items[i].check.name]) checkItems[items[i].check.name] = items[i].check.value;\n                        else {\n                            if (U.isString(checkItems[items[i].check.name])) checkItems[items[i].check.name] = [checkItems[items[i].check.name]];\n                            checkItems[items[i].check.name].push(items[i].check.value);\n                        }\n                    }\n                    if (items[i].items && items[i].items.length > 0) collectItem(items[i].items);\n                }\n            };\n\n        collectItem(this.config.items);\n\n        try {\n            return checkItems;\n        }\n        finally {\n            checkItems = null;\n        }\n    }\n}\n\nexport default AX6UIMenu;"]}