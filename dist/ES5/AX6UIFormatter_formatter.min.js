"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _AX6Util=require("./AX6Util"),_AX6Util2=_interopRequireDefault(_AX6Util),TODAY=new Date,ctrlKeys={18:"KEY_ALT",8:"KEY_BACKSPACE",17:"KEY_CONTROL",46:"KEY_DELETE",40:"KEY_DOWN",35:"KEY_END",187:"KEY_EQUAL",27:"KEY_ESC",36:"KEY_HOME",45:"KEY_INSERT",37:"KEY_LEFT",189:"KEY_MINUS",34:"KEY_PAGEDOWN",33:"KEY_PAGEUP",13:"KEY_RETURN",39:"KEY_RIGHT",16:"KEY_SHIFT",9:"KEY_TAB",38:"KEY_UP",91:"KEY_WINDOW"},numKeys={48:1,49:1,50:1,51:1,52:1,53:1,54:1,55:1,56:1,57:1,96:1,97:1,98:1,99:1,100:1,101:1,102:1,103:1,104:1,105:1},pattern_money={getEnterableKeyCodes:function(e){var t={188:","};return"int"==e.patternArgument||(t[190]="."),jQuery.extend(t,ctrlKeys,numKeys)},getPatternValue:function(e,t,n,r,u){r=r.replace(/[^0-9^\.^\-]/g,"");var a=new RegExp("([0-9])([0-9][0-9][0-9][,.])"),l=r.split(".");l[0]+=".";do{l[0]=l[0].replace(a,"$1,$2")}while(a.test(l[0]));return l.length>1?_AX6Util2.default.isNumber(e.maxRound)?l[0]+_AX6Util2.default.left(l[1],e.maxRound):l.join(""):l[0].split(".")[0]}},pattern_number={getEnterableKeyCodes:function(e){var t={190:".",110:"."};return jQuery.extend(t,ctrlKeys,numKeys)},getPatternValue:function(e,t,n,r,u){var a=(r=r.replace(/[^0-9^\.^\-]/g,"")).split(".");return a[0]+=".",a.length>1?_AX6Util2.default.isNumber(e.maxRound)?a[0]+_AX6Util2.default.left(a[1],e.maxRound):a.join(""):a[0].split(".")[0]}},pattern_date={getEnterableKeyCodes:function(e){var t={189:"-",191:"/"};return jQuery.extend(t,ctrlKeys,numKeys)},getPatternValue:function(e,t,n,r,u){if(""==(r=r.replace(/\D/g,"")))return r;var a=/^([0-9]{4})\-?([0-9]{1,2})?\-?([0-9]{1,2})?.*$/;"time"==e.patternArgument?a=/^([0-9]{4})\-?([0-9]{1,2})?\-?([0-9]{1,2})? ?([0-9]{1,2})?:?([0-9]{1,2})?:?([0-9]{1,2})?.*$/:"year"==e.patternArgument?a=/^([0-9]{0,4})?.*$/:"month"==e.patternArgument&&(a=/^([0-9]{4})\-?([0-9]{1,2})?.*$/);var l=r.match(a),i="",s=function(e,t,n,r){var u={Y:function(e){return void 0===e&&(e=TODAY.getFullYear()),""!=e&&"0000"!=e||(e=TODAY.getFullYear()),e.length<4?_AX6Util2.default.setDigit(e,4):e},M:function(e){return void 0===e&&(e=TODAY.getMonth()+1),e>12?12:0==e?"01":_AX6Util2.default.setDigit(e,2)},D:function(e){void 0===e&&(e=TODAY.getDate()+1);var t=_AX6Util2.default.daysOfMonth(r[1],r[2]-1);return e>t?t:0==e?"01":_AX6Util2.default.setDigit(e,2)},h:function(e){return e||(e=0),e>23?23:_AX6Util2.default.setDigit(e,2)},m:function(e){return e||(e=0),e>59?59:_AX6Util2.default.setDigit(e,2)},s:function(e){return e||(e=0),e>59?59:_AX6Util2.default.setDigit(e,2)}};return n?u[t](e):e};return i=r.replace(a,function(t,n){var r=[];return"year"==e.patternArgument?r.push(s(arguments[1],"Y",u)):"month"==e.patternArgument?(r.push(s(arguments[1],"Y",u)),(arguments[2]||u)&&r.push("-"+s(arguments[2],"M",u))):"time"==e.patternArgument?(r.push(s(arguments[1],"Y",u)),(arguments[2]||u)&&r.push("-"+s(arguments[2],"M",u)),(arguments[3]||u)&&r.push("-"+s(arguments[3],"D",u,arguments)),(arguments[4]||u)&&r.push(" "+s(arguments[4],"h",u)),(arguments[5]||u)&&r.push(":"+s(arguments[5],"m",u)),(arguments[6]||u)&&r.push(":"+s(arguments[6],"s",u))):(r.push(s(arguments[1],"Y",u)),(arguments[2]||u)&&r.push("-"+s(arguments[2],"M",u)),(arguments[3]||u)&&r.push("-"+s(arguments[3],"D",u,arguments))),r.join("")}),"blur"!=u||l?l||(i=i.length>4?_AX6Util2.default.left(i,4):i):i=function(){var t=[];return"year"==e.patternArgument?t.push(s(0,"Y",u)):"month"==e.patternArgument?(t.push(s(0,"Y",u)),t.push("-"+s(0,"M",u))):"time"==e.patternArgument?(t.push(s(0,"Y",u)),t.push("-"+s(0,"M",u)),t.push("-"+s(0,"D",u,arguments)),t.push(" "+s(0,"h",u)),t.push(":"+s(0,"m",u)),t.push(":"+s(0,"s",u))):(t.push(s(0,"Y",u)),t.push("-"+s(0,"M",u)),t.push("-"+s(0,"D",u,arguments))),t.join("")}(),i}},pattern_time={getEnterableKeyCodes:function(e){var t={186:":"};return jQuery.extend(t,ctrlKeys,numKeys)},getPatternValue:function(e,t,n,r,u){var a=/^([0-9]{1,2})?:?([0-9]{1,2})?:?([0-9]{1,2})?.*$/,l=(r=r.replace(/\D/g,"")).match(a),i=r.replace(a,function(e,t){var n=[arguments[1]];return arguments[2]&&n.push(":"+arguments[2]),arguments[3]&&n.push(":"+arguments[3]),n.join("")});return l||(i=i.length>2?_AX6Util2.default.left(i,2):i),i}},pattern_bizno={getEnterableKeyCodes:function(e){var t={189:"-"};return jQuery.extend(t,ctrlKeys,numKeys)},getPatternValue:function(e,t,n,r,u){var a=/^([0-9]{3})\-?([0-9]{1,2})?\-?([0-9]{1,5})?.*$/;return(r=r.replace(/\D/g,"")).replace(a,function(e,t){var n=[arguments[1]];return arguments[2]&&n.push(arguments[2]),arguments[3]&&n.push(arguments[3]),n.join("-")})}},pattern_phone={getEnterableKeyCodes:function(e){var t={189:"-",188:","};return jQuery.extend(t,ctrlKeys,numKeys)},getPatternValue:function(e,t,n,r,u){var a=/^([0-9]{3})\-?([0-9]{1,4})?\-?([0-9]{1,4})?\-?([0-9]{1,4})?\-?([0-9]{1,4})?/;return"02"==(r=r.replace(/\D/g,"")).substr(0,2)&&(a=/^([0-9]{2})\-?([0-9]{1,4})?\-?([0-9]{1,4})?\-?([0-9]{1,4})?\-?([0-9]{1,4})?/),r.replace(a,function(e,t){var n=[arguments[1]];return arguments[2]&&n.push(arguments[2]),arguments[3]&&n.push(arguments[3]),arguments[4]&&n.push(arguments[4]),arguments[5]&&n.push(arguments[5]),n.join("-")})}},pattern_credit={getEnterableKeyCodes:function(e){var t={189:"-"};return jQuery.extend(t,ctrlKeys,numKeys)},getPatternValue:function(e,t,n,r,u){var a=/^([0-9]{4})\-?([0-9]{4})?\-?([0-9]{4})?\-?([0-9]{4})?/;return(r=r.replace(/\D/g,"").substring(0,16)).replace(a,function(e,t){var n=[arguments[1]];return arguments[2]&&n.push(arguments[2]),arguments[3]&&n.push(arguments[3]),arguments[4]&&n.push(arguments[4]),n.join("-")})}},pattern_custom={getEnterableKeyCodes:function(e){return e.getEnterableKeyCodes?e.getEnterableKeyCodes.call(e,{$input:e.$input}):null},getPatternValue:function(e,t,n,r,u){if(e.getPatternValue)return e.getPatternValue.call(e,{event:n,$input:e.$input,value:r})}};exports.default={ctrlKeys:ctrlKeys,numKeys:numKeys,money:pattern_money,number:pattern_number,date:pattern_date,time:pattern_time,bizno:pattern_bizno,phone:pattern_phone,credit:pattern_credit,custom:pattern_custom};
//# sourceMappingURL=AX6UIFormatter_formatter.js.map
